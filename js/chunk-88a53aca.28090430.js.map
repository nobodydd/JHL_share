{"version":3,"sources":["webpack:///./src/components/WechatShare/CommitPage.vue?a5da","webpack:///./src/components/WechatShare/CommitPage.vue?97a9","webpack:///src/components/WechatShare/CommitPage.vue","webpack:///./src/components/WechatShare/CommitPage.vue?078e","webpack:///./src/components/WechatShare/CommitPage.vue","webpack:///./src/service/verifyApplyService.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","on","openApp","staticClass","_v","attrs","model","value","callback","$$v","msgCode","expression","btnEnable","sendMsgCode","slot","_s","msgBtnText","commitAction","staticRenderFns","name","components","PageHeader","data","uuid","phone","resultType","icon","methods","timeCountDown","timeNumber","window","clearInterval","clock","verificationCode","approvalResult","$toast","parasData","nickName","userData","ownerNickName","room","roomStr","type","console","log","$route","query","param","$router","push","shareOpenApp","mounted","dataObj","androidShareOpenApp","component","getDetailService","params","Promise","resolve","reject","http","get","then","result","catch","error","verifyPhone","reqParam","post","resultCode","msg","approvalIdenti","getMsgCode","JSON","stringify","success"],"mappings":"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","file":"js/chunk-88a53aca.28090430.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommitPage.vue?vue&type=style&index=0&id=7225e9a2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommitPage.vue?vue&type=style&index=0&id=7225e9a2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"background\":\"#FFFFFF\",\"width\":\"100%\"}},[_c('page-header',{on:{\"btn-action\":_vm.openApp}}),_c('div',{staticClass:\"pageView\"},[_c('div',{staticStyle:{\"color\":\"#999999\",\"margin-bottom\":\"10px\"}},[_vm._v(\"验证码:6位数字\")]),_c('div',[_c('van-field',{attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.msgCode),callback:function ($$v) {_vm.msgCode=$$v},expression:\"msgCode\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"disabled\":!_vm.btnEnable},on:{\"click\":_vm.sendMsgCode},slot:\"button\"},[_vm._v(_vm._s(_vm.msgBtnText))])],1)],1),_c('div',{staticClass:\"bottomView\"},[_c('div',{staticClass:\"nextBtn\",on:{\"click\":_vm.commitAction}},[_vm._v(\"确 认\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div style=\"height:100%;background:#FFFFFF;width:100%;\">\n  <page-header @btn-action=\"openApp\"/>\n  <div class=\"pageView\">\n    <div style=\"color:#999999;margin-bottom:10px;\">验证码:6位数字</div>\n    <div>\n      <van-field v-model=\"msgCode\" placeholder=\"请输入验证码\">\n        <van-button\n          slot=\"button\"\n          size=\"small\"\n          @click=\"sendMsgCode\"\n          :disabled=\"!btnEnable\"\n        >{{msgBtnText}}</van-button>\n      </van-field>\n    </div>\n    <div class=\"bottomView\">\n      <div class=\"nextBtn\" @click=\"commitAction\">确 认</div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Field } from 'vant';\nimport { Button } from 'vant';\nimport PageHeader from \"./PageHeader\"\n\nVue.use(Button);\nVue.use(Field);\nimport { approvalIdenti, getMsgCode } from \"../../service/verifyApplyService\";\nexport default {\n  name: \"CommitPage\",\n  components: {\n    PageHeader\n  },\n  data() {\n    return {\n      msgCode: \"\",\n      uuid: \"\",\n      phone: \"\",\n      resultType: \"\",\n      btnEnable: true,\n      msgBtnText: \"发送验证码\",\n      icon:{\n         xwjlogo:require(\"../../assets/share/shareLogo.png\")\n      }\n    };\n  },\n  methods: {\n    sendMsgCode() {\n      let param = { PHONE: this.phone };\n      getMsgCode(param)\n        .then(data => {\n          this.$toast(data.msg);\n          this.timeCountDown();\n        })\n        .catch(error => {\n          console.log(error);\n          // this.$toast(error);\n        });\n    },\n    timeCountDown() {\n      this.btnEnable = false;\n      var timeNumber = 60;\n      let clock = window.setInterval(() => {\n        timeNumber--;\n        if (timeNumber > 0) {\n          this.msgBtnText = timeNumber + \"秒后重新发送\";\n        } else {\n          this.btnEnable = true;\n          window.clearInterval(clock);\n          this.msgBtnText = \"获取验证码\";\n        }\n      }, 1000);\n    },\n    commitAction() {\n      if (this.msgCode == \"\") {\n        this.$toast(\"验证码不能为空\");\n        return;\n      }\n      let param = {\n        uuid: this.uuid,\n        phone: this.phone,\n        verificationCode: this.msgCode,\n        approvalResult: this.resultType\n      };\n      approvalIdenti(param)\n        .then(data => {\n          console.log(data);\n          this.parasData(data);\n        })\n        .catch(error => {\n          console.log(error);\n          // this.$toast(error);\n        });\n    },\n    parasData(data) {\n      let userData = JSON.parse(this.$route.query.data);\n      let roomStr = \"【\"+userData.areaName + '-' + userData.buildName + '-' + userData.showRoomName+\"】\";\n      let param = {\n        nickName: userData.ownerNickName,\n        room: roomStr,\n        type:this.$route.query.type\n      };\n      console.log(this.$route.query)\n      console.log(param)\n      this.$router.push({ path: \"/resultPage\", query: param });\n    },\n    openApp(){\n      this.shareOpenApp('myfamily')\n   }\n  },\n  mounted() {\n    let query = this.$route.query;\n    let dataObj = JSON.parse(query.data)\n    console.log(dataObj);\n    this.uuid = dataObj.uuid;\n    this.phone = query.phone;\n    this.resultType = query.type;\n\n    this.androidShareOpenApp('myfamily')//android 拉起APP\n  }\n};\n</script>\n\n<style scoped>\n.pageView {\n  /* height: 100%; */\n  background: #fff;\n  padding: 20px;\n  padding-top: 35px;\n  /* margin-top: 100px; */\n}\n/deep/.van-cell {\n  padding-left: 0px;\n}\n/deep/.van-field__control {\n  border-bottom: 1px solid #f2f2f2;\n}\n.van-button {\n  border: none;\n  color: #fb5768;\n}\n\n.bottomView {\n  padding-top: 50px;\n  display: flex;\n  justify-content: center;\n}\n.nextBtn {\n  width: 80%;\n  height: 40px;\n  background-color: #fb5768;\n  line-height: 40px;\n  font-size: 20px;\n  color: #fff;\n  text-align: center;\n  border-radius: 5px;\n}\n\n.tipView {\n  height: 200px;\n  text-align: center;\n}\n.tips {\n  height: 200px;\n  line-height: 200px;\n  font-size: 13px;\n  color: #fb5768;\n}\n.xwjTitle{\n    width: 100%;\n    height: 66px;\n    /* position: fixed; */\n    z-index: 10;\n    top: 0;\n    background: rgba(0,0,0,0.60);\n  }\n  /*分享样式*/\n  .xwjLogo{\n    float: left;\n    position: relative;\n    margin: 11px 5px 11px 20px;\n  }\n  .xwjLogo img{\n    width: 120px;\n    height: 43px;\n  }\n  .xwj{\n      float: left;\n  }\n  .xwjTxt{\n    font-size: 23px;\n    color:#FFFFFF;\n    display:block;\n    margin-top: 8px;\n  }\n  .xwjDesc{\n    font-size: 12px;\n    color:#FFFFFF;\n  }\n  .toAPP{\n    float: right;\n    margin: 15px 20px;\n  }\n  .openAPP{\n    width: 86px;\n    height: 34px;\n    border: none;\n    background: #FB5768;\n    box-shadow: 0 0 5px 0 rgba(208,2,27,0.14);\n    border-radius: 19px;\n    font-family: PingFangSC-Medium;\n    font-size: 12px;\n    color: #FFFFFF;\n    letter-spacing: -0.04px;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommitPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommitPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommitPage.vue?vue&type=template&id=7225e9a2&scoped=true&\"\nimport script from \"./CommitPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CommitPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommitPage.vue?vue&type=style&index=0&id=7225e9a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7225e9a2\",\n  null\n  \n)\n\nexport default component.exports","import http from \"../http\";\nimport { Toast } from \"vant\";\n\n\nexport {\n    getDetailService,\n    verifyPhone,\n    approvalIdenti,\n    getMsgCode\n}\n\n//获取用户邀请列表\nconst getDetailService = (params) => {\n    console.log(params)\n    return new Promise((resolve, reject) => {\n        http.get('xwj-property-house/house/binding/getMemberBindingDetail', params).then(result => {\n            resolve(result);\n        }).catch(error => {\n            Toast('网络异常，请稍后重试！')\n            reject(error);\n        })\n    });\n}\n\n//验证手机号\nconst verifyPhone = (reqParam) => {\n    return new Promise((resolve, reject) => {\n        http.post('xwj-property-house/house/binding/checkPropertyOwnerPhone', reqParam, false).then(result => {\n            if (result.resultCode == '0') {\n                resolve(result.data)\n            }else{\n                Toast(result.msg)\n                reject(result.msg)\n            }\n            // result.resultCode == '0' ? resolve(result.data) : reject(result.msg);\n        }).catch(error => {\n            Toast('网络异常，请稍后重试！')\n            reject(error);\n        })\n\n    });\n}\n\n//审批身份信息\nconst approvalIdenti = (reqParam) => {\n    return new Promise((resolve, reject) => {\n        http.post('xwj-property-house/house/binding/checkPhoneVerificationCode', reqParam, false).then(result => {\n            if (result.resultCode == '0') {\n                resolve(result.data)\n            }else{\n                Toast(result.msg)\n                reject(result.msg)\n            }\n            // result.resultCode == '0' ? resolve(result.data) : reject(result.msg);\n        }).catch(error => {\n            Toast('网络异常，请稍后重试！')\n            reject(error);\n        })\n    });\n}\n\n//获取验证码\nconst getMsgCode = (reqParam) => {\n    return new Promise((resolve, reject) => {\n        http.post('hisense-systemServer/login/getMsgCode.do', { data: JSON.stringify(reqParam) }, true ,'homeUrl').then(result => {\n            if (result.success == true) {\n                resolve(result)\n            }else{\n                Toast(result.msg)\n                reject(result.msg)\n            }\n            // result.success == true ? resolve(result) : reject(result.msg);\n        }).catch(error => {\n            Toast('网络异常，请稍后重试！')\n            reject(error);\n        })\n    });\n}"],"sourceRoot":""}
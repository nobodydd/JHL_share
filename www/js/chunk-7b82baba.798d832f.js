(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b82baba"],{2627:function(t,e,s){},"4f11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqhJREFUeAHtms1L1UEUhtX8IJUwEEGiRKggEqGNiwpx08qiaOEmMKE2QctyIfQXRGAtxJ0o1CYEEaTCRYsgqEUgRAWChIohRBpEH1TengMOHIZWwoHD3HPgZebcO8yc5x283pnframJCAfCgXAgHAgHwoFwIBwIB8KBcMChA5VKpRu9QJto2GGJdiUB3Is+oRTrdqs5mxnifrSdyHfbGWdl2pQD7CX0I4OfJq+3WdHRrEBeR38y+LvktY7KtCkFyLEMfIf8ls1qjmaV3UX3M/jf5FcdlWlTCpAN6FEG/5180GZFR7MC2YqeZfBfyE87KtOmFCDb0esMfp38pM2KjmYFsgt9QDokP+KoTJtSgOxBstM6XpG026zoaFYgzyD5G9fxlKTFUZk2pQB5Hsmnu46HJA02KzqaFcgRJP/XdYyTVMW3u1FNvdsfc7Q/NqXI7qJ7Gbx8x79ms6KjWYGsRzMZvJzuLjoq06YUIJvRQgYv5/p+mxWdzQroXAa/Qd7rrEy7coBdzQyYsFvN4czAX0H5hcYkr9U5LNemJGAvo59Ix2OSRpsVHc4K7AD6qh2gv4haHZZrUxKwp5Dc5+uQI3D5B59kKbBH0Yp2gP57dDiNKb4FthMtIR1rJCeKh0+AwLYhecSl4zNJXxpTfAvsfjSvHaD/DZ0rHj4BAivnhCmk4xfJUBpTfAusnBTlaY+OvyQ3iofXgADfRvL0R8cdPab4PuT/uy16wOvl3xal3QX2AsrvC+VpUfn3hcqEswBvIR1PSJrTmOJbYOUXIXJ/oOMlycHi4RMgsN1oWTtA/y06lMYU3wLbgd4gHR9JjhUPnwCBPYCeIx1L6f2qaCFvQrPKgXdVAa4hgd+HbiL5Bclx/V70w4FwIBwIB8KBcCAcCAfCgXBgzw78A2Wj4+ezw0gaAAAAAElFTkSuQmCC"},"4f55":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commerceOrderDetail"},[s("navigation-bar",{attrs:{pageName:"订单详情","right-text":""},on:{onLeftClick:t.onClickLeft}}),s("div",{staticClass:"commerce-over-box",style:{bottom:"待收货"==t.orderInfo.billStatus?"1.6rem":0}},[t.receivedInfo&&(t.receivedInfo.receivedName||t.receivedInfo.receivedPhone)?s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"van-hairline--top"}),s("div",{staticClass:"detailPersonPanel"},[s("div",{staticClass:"person-info-div"},[s("div",{staticClass:"person-name-div"},[s("div",{staticClass:"personName"},[t._v(t._s(t.receivedInfo.receivedName))]),s("div",{staticClass:"personPhone"},[t._v(t._s(t.receivedInfo.receivedPhone))])])])])]):t._e(),s("div",{staticClass:"card"},[s("div",{staticClass:"detailTypePanel"},[s("span",{staticClass:"detailTypeName"},[t._v("商品信息")]),0==t.orderInfo.deliveryType?s("div",{staticClass:"SendTypeDelivery"},[s("div",{staticClass:"sendType"},[t._v("快递配送")])]):t._e(),1==t.orderInfo.deliveryType?s("div",{staticClass:"SendTypeDelivery"},[s("div",{staticClass:"sendType"},[t._v("销售配送")])]):t._e(),2==t.orderInfo.deliveryType?s("div",{staticClass:"SendTypeSelf"},[s("div",{staticClass:"sendType"},[t._v("到店自提")])]):t._e()]),s("div",{staticClass:"van-hairline--top"}),t._l(t.orderInfo.goodsInfo,(function(e,a){return s("div",{key:a,staticClass:"detailGoodsPanel"},[s("div",{staticClass:"goods-info-div"},[s("div",{staticClass:"goods-name-div"},[s("div",{staticClass:"orderGoods"},[t._v(t._s(e.goodsName))]),s("div",{staticClass:"orderPrice"},[t._v("￥"+t._s(e.skuPrice))])]),s("div",{staticClass:"goods-num-div"},[s("div",{staticClass:"orderSpecs"},[t._v(t._s(e.attrValueContent))]),s("div",{staticClass:"orderGoodsNum"},[t._v("x"+t._s(e.skuCount))])])])])})),s("div",{staticClass:"dashLine",staticStyle:{margin:"10px 15px 0 15px"}}),s("div",{staticClass:"detailInfoPanel"},[s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle",staticStyle:{color:"#333333"}},[t._v("配送费")]),s("span",{staticClass:"infoDetai"},[t._v("￥"+t._s(t.orderInfo.deliveryPrice))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle",staticStyle:{color:"#333333"}},[t._v("实际支付")]),s("span",{staticClass:"infoDetai",staticStyle:{color:"#F43D3D"}},[t._v("￥"+t._s(t.orderInfo.realPayTotal))])])])],2),s("div",{staticClass:"card"},[t._m(1),s("div",{staticClass:"van-hairline--top"}),s("div",{staticClass:"detailInfoPanel"},[s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("店铺名称")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.shopName))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("供应商")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.supplierName))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("供应商电话")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.supplierPhone))])])])]),s("div",{staticClass:"card"},[t._m(2),s("div",{staticClass:"van-hairline--top"}),s("div",{staticClass:"detailInfoPanel"},[s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("收货地址")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.recAddr))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("收货人")]),s("span",{staticClass:"infoDetai"},[t._v("\n          "+t._s(t.orderInfo.recName)+"\n          "+t._s(t.orderInfo.recPhone)+"\n        ")])])])]),s("div",{staticClass:"card"},[t._m(3),s("div",{staticClass:"van-hairline--top"}),s("div",{staticClass:"detailInfoPanel"},[s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("订单号")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.subBillNo))])]),t.orderInfo.deliveryDate?s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("配送时间")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.deliveryDate))])]):t._e(),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("下单时间")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.createdTime))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("支付方式")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.payType))])]),s("div",{staticClass:"detailInfoItem"},[s("span",{staticClass:"detailInfoTitle"},[t._v("订单状态")]),s("span",{staticClass:"infoDetai"},[t._v(t._s(t.orderInfo.billStatus))])])])])]),"待收货"==t.orderInfo.billStatus?s("div",{staticClass:"receiveCommonPanel"},[s("div",{staticClass:"receiveBtn",on:{click:function(e){return t.received(t.orderInfo)}}},[t._v("已送达")]),t.orderInfo.noticeTimes&&t.orderInfo.noticeTimes<=0?s("div",{staticClass:"receiveBtn",on:{click:function(e){return t.goodArrive(t.orderInfo)}}},[t._v("已接货")]):t.orderInfo.noticeTimes&&t.orderInfo.noticeTimes>=1?s("div",{staticClass:"receiveBtn-disabled"},[t._v("已接货")]):s("div",{staticClass:"receiveBtn",on:{click:function(e){return t.goodArrive(t.orderInfo)}}},[t._v("已接货")]),t.dadaExpressSurported&&t.orderInfo.expressCompany&&-1!=t.orderInfo.expressCompany.indexOf("达达")?s("div",{staticClass:"receiveBtn",on:{click:function(e){return t.getDadaExpressInfo(t.orderInfo)}}},[t._v("查看物流")]):t._e()]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detailTypePanel"},[s("span",{staticClass:"detailTypeName"},[t._v("送达人")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detailTypePanel"},[s("span",{staticClass:"detailTypeName"},[t._v("店铺信息")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detailTypePanel"},[s("span",{staticClass:"detailTypeName"},[t._v("配送信息")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detailTypePanel"},[s("span",{staticClass:"detailTypeName"},[t._v("订单信息")])])}],n=s("9143"),o=s("da6f"),r=s("da6a"),c={name:"commerceOrderDetail",components:{NavigationBar:r["a"]},data:function(){return{loading:!1,finished:!1,orderInfo:{},dadaExpressSurported:!0,receivedInfo:{receivedName:"",receivedPhone:""}}},activated:function(){this.userInfo=o["b"].get("userInfo"),this.userInfo=this.userInfo?this.userInfo:o["a"].getStorage("custNews"),this.$route.query.orderInfo.subBillNo&&(this.orderInfo=this.$route.query.orderInfo),this.receivedInfo=this.$route.query.receivedInfo},methods:{received:function(t){var e=this,s={subBillNo:t.subBillNo,signerType:"03",signerCode:this.userInfo.USER_CODE};Object(n["h"])(s).then((function(t){"0"==t.resultCode?(o["b"].get("dealFunction")(e.orderInfo.subBillNo),e.orderInfo.billStatus="已完成"):t.msg?e.$toast(t.msg):e.$toast("请求失败，请稍后重试！")})).catch((function(t){e.$toast("网络异常，请稍后重试！")}))},goodArrive:function(t){var e=this;if(this.dadaExpressSurported&&t.noticeTimes&&t.noticeTimes>=1)console.log("goods already arrived, need not request, ignore.");else{var s={subBillNo:t.subBillNo,userPhone:this.userInfo.PHONE};Object(n["g"])(s).then((function(s){"0"==s.resultCode?(e.$toast("发送成功"),t.noticeTimes=1):s.msg?e.$toast(s.msg):e.$toast("请求失败，请稍后重试！")})).catch((function(t){e.$toast("网络异常，请稍后重试！")}))}},onClickLeft:function(){this.$router.back()},getDadaExpressInfo:function(t){this.$router.push({name:"mapForExpress",params:{subBillNo:t.subBillNo}})}}},l=c,d=(s("79ba"),s("2877")),f=Object(d["a"])(l,a,i,!1,null,null,null);e["default"]=f.exports},6699:function(t,e,s){},"79ba":function(t,e,s){"use strict";var a=s("6699"),i=s.n(a);i.a},9143:function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"h",(function(){return o})),s.d(e,"d",(function(){return r})),s.d(e,"e",(function(){return c})),s.d(e,"f",(function(){return l})),s.d(e,"i",(function(){return d})),s.d(e,"g",(function(){return f})),s.d(e,"a",(function(){return u}));var a=s("ba6a"),i=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/orderList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},n=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/orderDetailBySubNo",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},o=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/myOrder/confirmOrder",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},r=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-purchase/saler/getBuyList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},c=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/returnGoodsList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},l=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/returnDetailByReturnNo",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},d=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/saler/returnGoodsAppr",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},f=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/saler/sendGoodsArriveMsg",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},u=function(t,e){return new Promise((function(s,i){a["a"].get("xwj-adapter-dada/dadaOrder/orderTrack",{orderId:t,recAreaCode:e}).then((function(t){s(t)})).catch((function(t){i(t)}))}))}},"960f":function(t,e,s){"use strict";var a=s("2627"),i=s.n(a);i.a},da6a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navBar van-nav-bar",style:t.navBarStyle},[t.isShowLeft?s("div",{staticClass:"left",style:t.bothWidth,on:{click:function(e){return t.$emit("onLeftClick")}}},[t.isShowBack?s("img",{attrs:{src:t.backImg,alt:"",srcset:""}}):t._e(),t._t("nav-left")],2):t._e(),s("div",{staticClass:"center"},[t.isDefault?s("span",{staticClass:"title"},[t._v(t._s(t.pageName))]):t._e(),t._t("nav-center")],2),t.isShowRight?s("div",{staticClass:"right",style:t.bothWidth},[t._t("nav-right")],2):t._e()])},i=[],n={props:{isDefault:{default:!0,type:Boolean},bothWidth:{type:Object,default:function(){return{width:"36px"}}},isShowRight:{default:!0,type:Boolean},isShowLeft:{default:!0,type:Boolean},isShowBack:{default:!0,type:Boolean},leftImgType:{type:String,default:"0"},pageName:{default:"",type:String},navBarStyle:{type:Object,default:function(){return{backgroundColor:"#fff"}}}},data:function(){return{backImg:s("4f11")}},mounted:function(){this.isLeftImg()},methods:{isLeftImg:function(){switch(this.leftImgType){case"0":this.backImg=s("4f11");break;case"1":this.backImg=s("4f11");break}}}},o=n,r=(s("960f"),s("2877")),c=Object(r["a"])(o,a,i,!1,null,"7e35d797",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-7b82baba.798d832f.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f585c34"],{"0613":function(t,e,a){"use strict";var i=a("8220"),s=a.n(i);s.a},2627:function(t,e,a){},"4e4d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"image-list"},[t._l(t.selectPictures,(function(e,a){return i("li",{key:a,style:{width:t.imageWidthAndHeight+"px",height:t.imageWidthAndHeight+"px"}},[t.isShowAdd?i("van-icon",{staticClass:"delete-picture",attrs:{color:"rgb(181, 181, 181)",name:"clear"},on:{click:function(e){return t.deletePicture(a)}}}):t._e(),i("img",{attrs:{src:e,alt:""},on:{click:function(e){return t.preview(a)}}})],1)})),t.accountAddImage&&t.isShowAdd?i("li",[i("div",{staticClass:"add-image",on:{click:t.addAction}},[i("img",{staticClass:"cls-icon",attrs:{src:a("974a"),alt:""}})])]):t._e()],2)])},s=[],n=(a("ac6a"),a("c5f6"),a("28a2")),o=a("d399"),c=(a("a49b"),a("da6f")),r={name:"AddImage",props:{maxImageCount:{type:Number,default:4},selectPictures:{type:Array,default:function(){return[]}},isShowAdd:{type:Boolean,default:!0},imageType:{type:Number,default:-1}},data:function(){return{}},mounted:function(){var t=document.querySelector(".image-list");this.imageWidthAndHeight=t.offsetWidth/4},computed:{accountAddImage:function(){return this.selectPictures.length<this.maxImageCount},maximumImagesCount:function(){return this.maxImageCount-this.selectPictures.length}},watch:{selectPictures:function(t,e){console.log(t),this.$emit("imageMapChange",this.selectPictures.slice(0))}},methods:{preview:function(t){Object(n["a"])({images:this.selectPictures,startPosition:t})},addAction:function(){this.$emit("imageAddAction")},deletePicture:function(t){this.selectPictures.splice(t,1)},addSelect:function(t,e){e?this.getPicture():this.useCamera()},useCamera:function(){var t=this;this.$plugin.usePlugin("camera")((function(e){t.uploadFile(e)}),(function(t){o["a"].fail(t)}))},uploadFile:function(t){var e=this,a=o["a"].loading({duration:0,mask:!0,message:"加载中..."}),i="".concat(c["b"].get("custUrl.homeUrl"),"xwj-sys-media/media/upload/uploadFile"),s={params:{file:"",source:"wyApp",business:"complPic"}};1==this.imageType&&(s.params.business="dicoveryPic"),s.headers={contentType:"multipart/form-data"},this.$plugin.usePlugin("fileTransfer")(i,t,(function(t){a.clear();var i=JSON.parse(t.response);"0"==i.resultCode?e.selectPictures.push(i.data):o["a"].fail(i.msg)}),(function(t){a.clear(),o["a"].fail(t)}),s)},getPicture:function(){var t=this;this.$plugin.usePlugin("getPictures")(this.maximumImagesCount,(function(e){e.forEach((function(e){t.uploadFile(e)}))}),(function(t){o["a"].fail(t)}))}}},u=r,l=(a("0613"),a("2877")),d=Object(l["a"])(u,i,s,!1,null,"0fc768a1",null);e["a"]=d.exports},"4f11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqhJREFUeAHtms1L1UEUhtX8IJUwEEGiRKggEqGNiwpx08qiaOEmMKE2QctyIfQXRGAtxJ0o1CYEEaTCRYsgqEUgRAWChIohRBpEH1TengMOHIZWwoHD3HPgZebcO8yc5x283pnframJCAfCgXAgHAgHwoFwIBwIB8KBcMChA5VKpRu9QJto2GGJdiUB3Is+oRTrdqs5mxnifrSdyHfbGWdl2pQD7CX0I4OfJq+3WdHRrEBeR38y+LvktY7KtCkFyLEMfIf8ls1qjmaV3UX3M/jf5FcdlWlTCpAN6FEG/5180GZFR7MC2YqeZfBfyE87KtOmFCDb0esMfp38pM2KjmYFsgt9QDokP+KoTJtSgOxBstM6XpG026zoaFYgzyD5G9fxlKTFUZk2pQB5Hsmnu46HJA02KzqaFcgRJP/XdYyTVMW3u1FNvdsfc7Q/NqXI7qJ7Gbx8x79ms6KjWYGsRzMZvJzuLjoq06YUIJvRQgYv5/p+mxWdzQroXAa/Qd7rrEy7coBdzQyYsFvN4czAX0H5hcYkr9U5LNemJGAvo59Ix2OSRpsVHc4K7AD6qh2gv4haHZZrUxKwp5Dc5+uQI3D5B59kKbBH0Yp2gP57dDiNKb4FthMtIR1rJCeKh0+AwLYhecSl4zNJXxpTfAvsfjSvHaD/DZ0rHj4BAivnhCmk4xfJUBpTfAusnBTlaY+OvyQ3iofXgADfRvL0R8cdPab4PuT/uy16wOvl3xal3QX2AsrvC+VpUfn3hcqEswBvIR1PSJrTmOJbYOUXIXJ/oOMlycHi4RMgsN1oWTtA/y06lMYU3wLbgd4gHR9JjhUPnwCBPYCeIx1L6f2qaCFvQrPKgXdVAa4hgd+HbiL5Bclx/V70w4FwIBwIB8KBcCAcCAfCgXBgzw78A2Wj4+ezw0gaAAAAAElFTkSuQmCC"},8220:function(t,e,a){},"960f":function(t,e,a){"use strict";var i=a("2627"),s=a.n(i);s.a},"974a":function(t,e){t.exports="data:image/png;base64,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"},ba14:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"workHandel"},[a("navigation-bar",{attrs:{pageName:"工单处理"},on:{onLeftClick:t.goBack}}),a("div",{staticClass:"box"},[a("div",{staticClass:"area-box"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.workContent,expression:"workContent"}],attrs:{name:"",id:"",placeholder:"请填写处理情况...",maxlength:"100"},domProps:{value:t.workContent},on:{input:[function(e){e.target.composing||(t.workContent=e.target.value)},t.filterContent]}}),a("div",{staticClass:"num"},[t._v(t._s(t.workContent.length)+"/100")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"visible-box"},[a("div",{staticClass:"title"},[t._v("业主是否可见")]),a("van-switch",{attrs:{size:"24px","active-color":"#00d8d1","inactive-color":"#FFFFFF"},model:{value:t.isVisiable,callback:function(e){t.isVisiable=e},expression:"isVisiable"}})],1),a("div",{staticClass:"photo-box"},[t._m(0),a("div",{staticClass:"photo"},[a("add-image",{ref:"addImageComponent",on:{imageAddAction:t.showAddSheetControll,imageMapChange:t.upDateImageData}})],1)]),a("div",{staticClass:"submit-box"},[a("div",{staticClass:"submit",on:{click:t.handle}},[t._v("完成")])])])]),a("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":"取消",round:"","close-on-click-action":""},on:{select:t.addSelect},model:{value:t.showAddSheet,callback:function(e){t.showAddSheet=e},expression:"showAddSheet"}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",[t._v("上传图片")]),a("div",{staticClass:"limit"},[t._v("(最多4张)")])])}],n=(a("a481"),a("9e59")),o=a("da6f"),c=a("4e4d"),r=a("da6a"),u={name:"workHandle",data:function(){return{isVisiable:!1,workContent:"",workDetail:null,actions:[{name:"拍照"},{name:"从手机相册选择"}],imgList:[],showAddSheet:!1,userInfo:null}},components:{"add-image":c["a"],NavigationBar:r["a"]},created:function(){this.workDetail=this.$route.params,this.userInfo=o["b"].get("userInfo")},methods:{goBack:function(){this.$router.back(-1)},upDateImageData:function(t){this.imgList=t},showAddSheetControll:function(){this.showAddSheet=!this.showAddSheet},addSelect:function(t,e){this.getPictureData(e)},getPictureData:function(t){t?this.$refs.addImageComponent.getPicture():this.$refs.addImageComponent.useCamera()},filterContent:function(){this.workContent=this.workContent.replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,"")},handle:function(){var t=this;if(this.hasCompleteParam()){var e={complCode:this.workDetail.complCode,complCatCode:this.workDetail.complCatCode,content:this.workContent,isShow:this.isVisiable?1:0,picUrl:this.imgList,picCode:"",areaCode:this.workDetail.areaCode,createdBy:this.userInfo.USER_CODE,userCode:this.userInfo.USER_CODE,userName:this.userInfo.USER_NAME,userNickName:this.userInfo.USER_NICK_NAME,phone:this.userInfo.PHONE};Object(n["o"])(e).then((function(e){"0"==e.resultCode?(t.$toast("处理成功"),o["b"].set("workDetailComplCode",t.workDetail.complCode),t.goBack()):t.$toast(e.msg)}),(function(e){t.$toast(e)}))}},hasCompleteParam:function(){return!!this.workContent||(this.$toast("请填写处理信息！"),!1)}},computed:{}},l=u,d=(a("e7ab"),a("2877")),f=Object(d["a"])(l,i,s,!1,null,"1dc5229c",null);e["default"]=f.exports},da6a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navBar van-nav-bar",style:t.navBarStyle},[t.isShowLeft?a("div",{staticClass:"left",style:t.bothWidth,on:{click:function(e){return t.$emit("onLeftClick")}}},[t.isShowBack?a("img",{attrs:{src:t.backImg,alt:"",srcset:""}}):t._e(),t._t("nav-left")],2):t._e(),a("div",{staticClass:"center"},[t.isDefault?a("span",{staticClass:"title"},[t._v(t._s(t.pageName))]):t._e(),t._t("nav-center")],2),t.isShowRight?a("div",{staticClass:"right",style:t.bothWidth},[t._t("nav-right")],2):t._e()])},s=[],n={props:{isDefault:{default:!0,type:Boolean},bothWidth:{type:Object,default:function(){return{width:"36px"}}},isShowRight:{default:!0,type:Boolean},isShowLeft:{default:!0,type:Boolean},isShowBack:{default:!0,type:Boolean},leftImgType:{type:String,default:"0"},pageName:{default:"",type:String},navBarStyle:{type:Object,default:function(){return{backgroundColor:"#fff"}}}},data:function(){return{backImg:a("4f11")}},mounted:function(){this.isLeftImg()},methods:{isLeftImg:function(){switch(this.leftImgType){case"0":this.backImg=a("4f11");break;case"1":this.backImg=a("4f11");break}}}},o=n,c=(a("960f"),a("2877")),r=Object(c["a"])(o,i,s,!1,null,"7e35d797",null);e["a"]=r.exports},e7ab:function(t,e,a){"use strict";var i=a("f35b"),s=a.n(i);s.a},f35b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2f585c34.aec8ae1a.js.map
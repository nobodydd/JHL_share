(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6efa7901"],{"08db":function(t,e,s){t.exports=s.p+"www/img/checked.488a7fa4.png"},2627:function(t,e,s){},3996:function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return a})),s.d(e,"a",(function(){return r}));var o=s("ba6a"),i=function(t){return new Promise((function(e,s){o["a"].post("hisense-systemServer/app/property/getdeliveResult.do",t,!0,"homeUrl").then((function(t){e(t)}),(function(t){s(t)}))}))},n=function(t){return new Promise((function(e,s){o["a"].post("hisense-systemServer/app/property/getDelivePicByCode.do",t,!0,"homeUrl").then((function(t){e(t)}),(function(t){s(t)}))}))},a=function(t){return new Promise((function(e,s){o["a"].post("hisense-systemServer/app/property/saveDelivePic.do",t,!0,"homeUrl").then((function(t){e(t)}),(function(t){s(t)}))}))},r=function(t){return new Promise((function(e,s){o["a"].get("xwj-property-repair/complQuery/getWorkOrderList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))}},4577:function(t,e,s){t.exports=s.p+"www/img/Floor.5ca59243.png"},"4f11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqhJREFUeAHtms1L1UEUhtX8IJUwEEGiRKggEqGNiwpx08qiaOEmMKE2QctyIfQXRGAtxJ0o1CYEEaTCRYsgqEUgRAWChIohRBpEH1TengMOHIZWwoHD3HPgZebcO8yc5x283pnframJCAfCgXAgHAgHwoFwIBwIB8KBcMChA5VKpRu9QJto2GGJdiUB3Is+oRTrdqs5mxnifrSdyHfbGWdl2pQD7CX0I4OfJq+3WdHRrEBeR38y+LvktY7KtCkFyLEMfIf8ls1qjmaV3UX3M/jf5FcdlWlTCpAN6FEG/5180GZFR7MC2YqeZfBfyE87KtOmFCDb0esMfp38pM2KjmYFsgt9QDokP+KoTJtSgOxBstM6XpG026zoaFYgzyD5G9fxlKTFUZk2pQB5Hsmnu46HJA02KzqaFcgRJP/XdYyTVMW3u1FNvdsfc7Q/NqXI7qJ7Gbx8x79ms6KjWYGsRzMZvJzuLjoq06YUIJvRQgYv5/p+mxWdzQroXAa/Qd7rrEy7coBdzQyYsFvN4czAX0H5hcYkr9U5LNemJGAvo59Ix2OSRpsVHc4K7AD6qh2gv4haHZZrUxKwp5Dc5+uQI3D5B59kKbBH0Yp2gP57dDiNKb4FthMtIR1rJCeKh0+AwLYhecSl4zNJXxpTfAvsfjSvHaD/DZ0rHj4BAivnhCmk4xfJUBpTfAusnBTlaY+OvyQ3iofXgADfRvL0R8cdPab4PuT/uy16wOvl3xal3QX2AsrvC+VpUfn3hcqEswBvIR1PSJrTmOJbYOUXIXJ/oOMlycHi4RMgsN1oWTtA/y06lMYU3wLbgd4gHR9JjhUPnwCBPYCeIx1L6f2qaCFvQrPKgXdVAa4hgd+HbiL5Bclx/V70w4FwIBwIB8KBcCAcCAfCgXBgzw78A2Wj4+ezw0gaAAAAAElFTkSuQmCC"},"55e8":function(t,e,s){t.exports=s.p+"www/img/noSource.ef090043.png"},"960f":function(t,e,s){"use strict";var o=s("2627"),i=s.n(o);i.a},b2ac:function(t,e,s){"use strict";var o=s("eada"),i=s.n(o);i.a},b5d2:function(t,e,s){t.exports=s.p+"www/img/repaired.c6e1b041.png"},bd2f:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkHouse"},[s("navigation-bar",{attrs:{pageName:"验房"},on:{onLeftClick:t.goBack}}),s("div",{staticClass:"search-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.building,expression:"building"}],attrs:{type:"text",placeholder:"楼座号"},domProps:{value:t.building},on:{input:function(e){e.target.composing||(t.building=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],attrs:{type:"text",placeholder:"单元号"},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.room,expression:"room"}],attrs:{type:"text",placeholder:"房间号"},domProps:{value:t.room},on:{input:function(e){e.target.composing||(t.room=e.target.value)}}})]),s("div",{staticClass:"search",on:{click:t.search}},[t._v("搜索")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.roomsList&&t.roomsList.length>0,expression:"roomsList && roomsList.length > 0"}],staticClass:"roomsList"},[s("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedText,"immediate-check":!1},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.roomsList,(function(e,o){return s("div",{key:o,staticClass:"item"},[s("div",{staticClass:"title"},[s("img",{attrs:{src:t.floorIcon,alt:""}}),s("div",[t._v(t._s(e.BUILD_NAME)+"-"+t._s(e.UNIT_NO))])]),s("div",{staticClass:"cell-box"},t._l(e.ROOM_RESULT,(function(o,i){return s("van-swipe-cell",{key:i,attrs:{"stop-propagation":!1}},[s("div",{staticClass:"room",on:{click:function(e){return t.goCheckHouseList(o)}}},[s("div",{staticClass:"status"},[s("img",{attrs:{src:t.getStatusIcon(o.DELIVE_FLAG),alt:""}})]),s("div",{staticClass:"name"},[t._v(t._s(o.ROOM_NAME))])]),s("template",{slot:"right"},[s("div",{staticClass:"btn-box"},[""==o.DELIVE_FLAG||"0"==o.DELIVE_FLAG?s("div",{staticClass:"repair",on:{click:function(s){return t.repair(e,o)}}},[t._v("报修")]):t._e(),"0"==o.DELIVE_FLAG||""==o.DELIVE_FLAG?s("div",{staticClass:"check",on:{click:function(s){return t.checkHouse(e,o)}}},[t._v("验房")]):t._e(),"1"==o.DELIVE_FLAG?s("div",{staticClass:"blank"}):t._e(),"1"==o.DELIVE_FLAG?s("div",{staticClass:"detail",on:{click:function(s){return t.getDetail(e,o)}}},[t._v("详情")]):t._e()])])],2)})),1)])})),0)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.roomsList||0==t.roomsList.length,expression:"!roomsList || roomsList.length == 0"}],staticClass:"no-list"},[s("img",{attrs:{src:t.noSourceImg,alt:""}}),s("div",[t._v("暂无房间信息")])])],1)},i=[],n=(s("7f7f"),s("3996")),a=s("da6f"),r=s("4577"),c=s.n(r),u=s("08db"),l=s.n(u),h=s("b5d2"),d=s.n(h),f=s("c64e"),p=s.n(f),m=s("55e8"),g=s.n(m),v=s("da6a"),L={name:"checkHouse",components:{NavigationBar:v["a"]},data:function(){return{activeTab:0,loading:!1,page:1,rows:5,finished:!1,finishedText:"我是有底线的",roomsList:[],building:"",unit:"",room:"",floorIcon:c.a,checkIcon:l.a,repairIcon:d.a,stayCheckIcon:p.a,noSourceImg:g.a,userInfo:null,scrollTop:0}},activated:function(){var t=a["b"].get("reloadCheckHouseStatus");console.log(t),2==t?(this.updateSingleData(a["b"].get("checkListSingleData")),document.querySelector(".roomsList").scrollTop=this.scrollTop,a["b"].dele("reloadCheckHouseStatus"),a["b"].set("checkListSingleData","")):void 0!=t&&0==t?(document.querySelector(".roomsList").scrollTop=this.scrollTop,a["b"].dele("reloadCheckHouseStatus")):(this.resetCheckHouseStatus(),this.getRoomsList(),a["b"].dele("reloadCheckHouseStatus"),document.querySelector(".roomsList").scrollTop=this.scrollTop=0)},beforeRouteLeave:function(t,e,s){"home"!=t.name&&(this.scrollTop=document.querySelector(".roomsList").scrollTop),s()},methods:{resetCheckHouseStatus:function(){this.loading=!1,this.page=1,this.rows=5,this.finished=!1,this.roomsList=[],this.building="",this.unit="",this.room=""},getStatusIcon:function(t){switch(t){case"0":return this.repairIcon;case"1":return this.checkIcon;case"":return this.stayCheckIcon}},getRoomsList:function(){var t=this;this.loading=!0;var e={AREA_CODE:a["b"].get("userInfo").AREA_CODE,page:this.page+"",rows:this.rows+"",ROOM_NAME:this.room,UNIT_NO:this.unit,BUILD_NAME:this.building};Object(n["c"])({data:JSON.stringify(e)}).then((function(e){t.setRoomsList(e)}),(function(e){t.loading=!1,t.$toast(e),t.finished=!0,t.finishedText=""}))},setRoomsList:function(t){this.loading=!1,this.finished=t.TOTAL<=this.page*this.rows,1==this.page?this.roomsList=t.ROWS?t.ROWS:[]:this.roomsList=this.roomsList.concat(t.ROWS?t.ROWS:[]),1==this.page&&this.finished&&(this.finished=!0,this.finishedText="")},loadMore:function(){this.page++,this.getRoomsList()},search:function(){document.querySelector(".roomsList").scrollTop=this.scrollTop=0,this.page=1,this.getRoomsList()},checkHouse:function(t,e){this.$router.push({name:"handCheck",params:{BUILD_CODE:t.BUILD_CODE,BUILD_NAME:t.BUILD_NAME,ROOM_CODE:e.ROOM_CODE,ROOM_NAME:e.ROOM_NAME,DELIVE_FLAG:e.DELIVE_FLAG,UNIT_NO:t.UNIT_NO}})},getDetail:function(t,e){this.$router.push({name:"checkDetail",params:{BUILD_CODE:t.BUILD_CODE,BUILD_NAME:t.BUILD_NAME,ROOM_CODE:e.ROOM_CODE,ROOM_NAME:e.ROOM_NAME,DELIVE_FLAG:e.DELIVE_FLAG,UNIT_NO:t.UNIT_NO}})},repair:function(t,e){this.$router.push({name:"newRepair",params:{BUILD_CODE:t.BUILD_CODE,BUILD_NAME:t.BUILD_NAME,ROOM_CODE:e.ROOM_CODE,ROOM_NAME:e.ROOM_NAME,DELIVE_FLAG:e.DELIVE_FLAG,UNIT_NO:t.UNIT_NO}})},goCheckHouseList:function(t){a["b"].set("checkHouseWorkRoomCode",t.ROOM_CODE),this.$router.push({name:"checkHouseWork"})},goBack:function(){this.scrollTop=0,this.$router.back(-1)},updateSingleData:function(t){for(var e=0;e<this.roomsList.length;e++)for(var s=0;s<this.roomsList[e].ROOM_RESULT.length;s++)if(this.roomsList[e].ROOM_RESULT[s].ROOM_CODE==t.ROOM_CODE)return void(this.roomsList[e].ROOM_RESULT[s].DELIVE_FLAG=t.DELIVE_FLAG)}},computed:{}},O=L,E=(s("b2ac"),s("2877")),A=Object(E["a"])(O,o,i,!1,null,"59d54899",null);e["default"]=A.exports},c64e:function(t,e,s){t.exports=s.p+"www/img/stayCheck.856c1bf1.png"},da6a:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navBar van-nav-bar",style:t.navBarStyle},[t.isShowLeft?s("div",{staticClass:"left",style:t.bothWidth,on:{click:function(e){return t.$emit("onLeftClick")}}},[t.isShowBack?s("img",{attrs:{src:t.backImg,alt:"",srcset:""}}):t._e(),t._t("nav-left")],2):t._e(),s("div",{staticClass:"center"},[t.isDefault?s("span",{staticClass:"title"},[t._v(t._s(t.pageName))]):t._e(),t._t("nav-center")],2),t.isShowRight?s("div",{staticClass:"right",style:t.bothWidth},[t._t("nav-right")],2):t._e()])},i=[],n={props:{isDefault:{default:!0,type:Boolean},bothWidth:{type:Object,default:function(){return{width:"36px"}}},isShowRight:{default:!0,type:Boolean},isShowLeft:{default:!0,type:Boolean},isShowBack:{default:!0,type:Boolean},leftImgType:{type:String,default:"0"},pageName:{default:"",type:String},navBarStyle:{type:Object,default:function(){return{backgroundColor:"#fff"}}}},data:function(){return{backImg:s("4f11")}},mounted:function(){this.isLeftImg()},methods:{isLeftImg:function(){switch(this.leftImgType){case"0":this.backImg=s("4f11");break;case"1":this.backImg=s("4f11");break}}}},a=n,r=(s("960f"),s("2877")),c=Object(r["a"])(a,o,i,!1,null,"7e35d797",null);e["a"]=c.exports},eada:function(t,e,s){}}]);
//# sourceMappingURL=chunk-6efa7901.3bb7982f.js.map
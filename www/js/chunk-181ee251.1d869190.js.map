{"version":3,"sources":["webpack:///./src/components/addImage/AddImage.vue?9bcf","webpack:///./src/components/findpage/AddNotePage.vue?5b6c","webpack:///src/components/findpage/AddNotePage.vue","webpack:///./src/components/findpage/AddNotePage.vue?afb2","webpack:///./src/components/findpage/AddNotePage.vue?281e","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./src/components/addImage/AddImage.vue?99cb","webpack:///src/components/addImage/AddImage.vue","webpack:///./src/components/addImage/AddImage.vue?e21c","webpack:///./src/components/addImage/AddImage.vue?e06d","webpack:///./src/assets/imgs/find/upload_img.png","webpack:///./src/components/findpage/AddNotePage.vue?b91f","webpack:///./src/assets/imgs/find/search_voice.gif","webpack:///./src/assets/imgs/find/ic_yuyin.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","navBarText","on","goBack","postMessage","staticClass","directives","name","rawName","value","expression","textPlaceholder","domProps","$event","target","composing","postText","_v","_s","inputLength","pageType","ref","typeFind","showAddSheetControll","upDateImageData","_e","actions","addSelect","model","callback","$$v","showAddSheet","staticRenderFns","mounted","userInfo","store","voiceInputEnabled","oDiv","addEventListener","audioPermitted","props","activeIndex","type","Number","data","$route","params","selectPictures","sendVal","speechStopped","posX","posY","showTips","waitStop","components","AddImage","computed","length","accountAddImage","isNewAdd","maximumImagesCount","maxCount","watch","newData","methods","addNote","addComments","addReply","addReport","newImageData","title","message","AREA_CODE","undefined","log","custNews","deletePicture","splice","picIndex","getPictureData","index","selectIndex","$router","back","stopSpeech","goToSpeech","startSpeech","requestAudioPermission","isiOS","list","permissions","cordova","plugins","requestPermissions","component","anObject","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","fn","call","RegExp","String","res","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","_l","picUrl","key","style","width","imageWidthAndHeight","height","preview","isShowAdd","addAction","maxImageCount","default","Array","Boolean","imageType","ulDom","offsetWidth","console","newValue","$emit","slice","getPicture","useCamera","$plugin","usePlugin","uploadFile","duration","mask","options","file","source","business","headers","module","exports"],"mappings":"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","file":"www/js/chunk-181ee251.1d869190.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=style&index=0&id=0fc768a1&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=style&index=0&id=0fc768a1&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\",\"background\":\"#f6f6f6\"}},[_c('van-nav-bar',{attrs:{\"left-text\":\"取消\",\"right-text\":_vm.navBarText},on:{\"click-left\":_vm.goBack,\"click-right\":_vm.postMessage}}),_c('div',{staticClass:\"post-wrapper\"},[_c('div',{staticClass:\"post-content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postText),expression:\"postText\"}],staticClass:\"content-textarea\",attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":_vm.textPlaceholder,\"maxlength\":\"200\"},domProps:{\"value\":(_vm.postText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.postText=$event.target.value}}})]),(_vm.voiceInputEnabled)?_c('div',{staticClass:\"voice-handle\"},[_c('van-row',{attrs:{\"span\":\"8\",\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('van-col',{staticClass:\"desc\",attrs:{\"span\":\"8\",\"id\":\"voice\"}},[_c('span',{staticClass:\"cls-voice\"},[_c('img',{staticClass:\"cls-icon\",attrs:{\"src\":require(\"../../assets/imgs/find/ic_yuyin.png\"),\"alt\":\"\"}}),_vm._v(\"\\n              语音录入\\n              \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTips),expression:\"showTips\"}],staticClass:\"voice-input-hint\",attrs:{\"src\":require(\"@/assets/imgs/find/search_voice.gif\"),\"alt\":\"\"}})])]),_c('van-col',[_c('p',{staticClass:\"input-length\"},[_vm._v(_vm._s(_vm.inputLength+'/200'))])])],1)],1):_c('p',{staticClass:\"input-length\"},[_vm._v(_vm._s(_vm.inputLength+'/200'))]),(_vm.pageType != \"report\")?_c('add-image',{ref:\"addImageComponent\",attrs:{\"imageType\":_vm.typeFind},on:{\"imageAddAction\":_vm.showAddSheetControll,\"imageMapChange\":_vm.upDateImageData}}):_vm._e()],1),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\",\"round\":\"\",\"close-on-click-action\":\"\"},on:{\"select\":_vm.addSelect},model:{value:(_vm.showAddSheet),callback:function ($$v) {_vm.showAddSheet=$$v},expression:\"showAddSheet\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height:100%;display:flex;flex-direction:column; background:#f6f6f6\">\n    <van-nav-bar\n      left-text=\"取消\"\n      :right-text=\"navBarText\"\n      @click-left=\"goBack\"\n      @click-right=\"postMessage\"\n    ></van-nav-bar>\n    <div class=\"post-wrapper\">\n      <div class=\"post-content\">\n        <textarea\n          name\n          id\n          cols=\"30\"\n          rows=\"10\"\n          v-model=\"postText\"\n          :placeholder=\"textPlaceholder\"\n          maxlength=\"200\"\n          class=\"content-textarea\"\n        ></textarea>\n      </div>\n      <div class=\"voice-handle\" v-if=\"voiceInputEnabled\">\n        <van-row span=\"8\" type=\"flex\" justify=\"space-between\">\n            <van-col span=\"8\" class=\"desc\" id=\"voice\">\n              <span class=\"cls-voice\">\n                <img class=\"cls-icon\" src=\"../../assets/imgs/find/ic_yuyin.png\" alt=\"\">\n                语音录入\n                <!-- <p class=\"voice-input-hint\" v-if=\"showTips\">正在收音</p> -->\n                <img class=\"voice-input-hint\" src=\"@/assets/imgs/find/search_voice.gif\" alt=\"\" v-show=\"showTips\">\n              </span>\n            </van-col>\n            <!-- <van-col >\n              <p class=\"voice-input-hint\" v-if=\"showTips\">正在收音</p>\n            </van-col> -->\n            <van-col >\n              <p class=\"input-length\">{{inputLength+'/200'}}</p>\n            </van-col>\n        </van-row>\n      </div>\n      <p class=\"input-length\" v-else>{{inputLength+'/200'}}</p>\n      <add-image\n        v-on:imageAddAction=\"showAddSheetControll\"\n        v-on:imageMapChange=\"upDateImageData\"\n        ref=\"addImageComponent\"\n        v-if='pageType != \"report\"'\n        :imageType=\"typeFind\"\n      ></add-image>\n    </div>\n    <van-action-sheet\n      v-model=\"showAddSheet\"\n      :actions=\"actions\"\n      cancel-text=\"取消\"\n      round\n      close-on-click-action\n      @select=\"addSelect\"\n    />\n  </div>\n</template>\n\n<script>\nimport {\n  addNoteService,\n  saveReportNoticeService,\n  addCommentInforService,\n  saveReplyInforService\n} from \"../../services/newFindService\";\nimport { Toast, Dialog } from \"vant\";\nimport { store, storage } from \"../../utils/store\";\nimport log from '../../utils/log'\nimport AddImageVue from \"../addImage/AddImage.vue\";\nexport default {\n  name: \"AddNotePage\",\n  mounted() {\n    this.userInfo = store.get(\"userInfo\");\n    if (this.voiceInputEnabled) {\n      let oDiv = document.getElementById('voice');\n      oDiv.addEventListener(\"touchstart\", e => {\n          this.speechStopped = false;\n          this.goToSpeech(e);\n          this.posX = e.touches[0].clientX;\n          this.posY = e.touches[0].clientY;\n      }, false);\n      oDiv.addEventListener('touchmove', e => {\n          if (!this.speechStopped) {\n            if (Math.abs(this.posX - e.touches[0].clientX) > 30 || Math.abs(this.posY - e.touches[0].clientY) > 30) {\n              this.speechStopped = true;\n              this.stopSpeech(\"滑动操作\");\n            }\n          }\n      }, false);\n      oDiv.addEventListener(\"touchend\", e => {\n          if (!this.speechStopped) {\n            this.stopSpeech();\n            this.posX = 0;\n            this.posY = 0;\n          }\n      }, false);\n      let audioPermitted = !store.get(\"audioPermitted\") ? false : store.get(\"audioPermitted\");\n      if (!audioPermitted) {\n          this.requestAudioPermission();\n      }\n    }\n  },\n  props: {\n    activeIndex: {\n      type: Number\n    }\n  },\n  data() {\n    return {\n      actions: [{ name: \"拍照\" }, { name: \"从手机相册选择\" }],\n      showAddSheet: false,\n      postText: \"\",\n      pageType: this.$route.params.pageType,\n      selectPictures: [],\n      typeFind: 1,\n      sendVal: false,\n      speechStopped: true,\n      posX: 0,\n      posY: 0,\n      showTips: false,\n      waitStop: false,\n      voiceInputEnabled: false,\n    };\n  },\n  components: {\n    \"add-image\": AddImageVue\n  },\n  computed: {\n    inputLength() {\n      return this.postText.length;\n    },\n    accountAddImage() {\n      return this.selectPictures.length < 4;\n    },\n\n    isNewAdd() {\n      return this.pageType != \"report\";\n    },\n\n    navBarText() {\n      return this.pageType == \"report\" ? \"确定\" : \"发表\";\n    },\n\n    maximumImagesCount() {\n      let maxCount = 4;\n      return maxCount - this.selectPictures.length;\n    },\n\n    textPlaceholder() {\n      return this.pageType == \"report\"\n        ? \"举报的原因\"\n        : this.pageType == \"reply\"\n        ? `回复${JSON.parse(this.$route.params.replyParam)[\"nickName\"]}:`\n        : \"这一刻的想法...\";\n    }\n  },\n\n  watch: {\n    //过滤输入的表情符号\n    postText(newName, oldName) {\n      let regExp = /[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF][\\u200D|\\uFE0F]|[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF]|[0-9|*|#]\\uFE0F\\u20E3|[0-9|#]\\u20E3|[\\u203C-\\u3299]\\uFE0F\\u200D|[\\u203C-\\u3299]\\uFE0F|[\\u2122-\\u2B55]|\\u303D|[\\A9|\\AE]\\u3030|\\uA9|\\uAE|\\u3030/gi;\n      let newData = newName.replace(regExp, \"\");\n      this.postText = newData;\n    }\n  },\n  methods: {\n    /**\n     * 数据发送管理器\n     **/\n    postMessage() {\n      if (\n        !this.postText &&\n        !this.selectPictures.length &&\n        this.pageType != \"report\"\n      ) {\n        Toast.fail(\"内容不能为空\");\n        return;\n      }\n\n      if (this.pageType == \"publish\") {\n        this.addNote();\n      } else if (this.pageType == \"comments\") {\n        this.addComments();\n      } else if (this.pageType == \"reply\") {\n        this.addReply();\n      } else {\n        if (!this.postText) {\n          Toast.fail(\"举报原因不能为空\");\n          return;\n        }\n        this.addReport();\n      }\n    },\n\n    /**\n     * 子组件更新已选图片集合监听函数\n     **/\n    upDateImageData(newImageData) {\n      this.selectPictures = newImageData;\n    },\n\n    /**\n     * addImage组件添加照片时的监听函数父组件用来选择哪种图片获取方式(拍照或相册上传)\n     **/\n    showAddSheetControll() {\n      this.showAddSheet = !this.showAddSheet;\n    },\n\n    /**\n     * 添加举报行为\n     * @param\n     **/\n    addReport() {\n      Dialog.confirm({\n        title: \"提示\",\n        message: \"确定进行举报？\"\n      })\n        .then(() => {\n          let { BIZ_CODE, OWNER_CODE, TYPE_FLAG } = JSON.parse(\n            this.$route.params.reportParam\n          );\n          return saveReportNoticeService({\n            /*BIZ_CODE,\n            OWNER_CODE,\n            TYPE_FLAG,\n            REPORTER_CODE: this.userInfo.USER_CODE,\n            FLAG: 0,\n            CONTENT: this.postText*/\n            \"content\": this.postText,\n            \"isProperty\": 1,\n            \"noteCode\": BIZ_CODE,\n            \"reporterCode\": this.userInfo.USER_CODE\n          });\n        })\n        .then((res) => {\n          if(res.resultCode == \"0\") {\n            this.$toast(\"举报成功\");\n            this.goBack();\n          } else {\n            this.$toast(res.msg);\n          }\n        })\n        .catch(error => {\n          error != \"cancel\" ? Toast.fail(error) : \"\";\n        });\n    },\n\n    /**\n     * 添加评论，调用接口发布评论\n     * @param\n     **/\n    addComments() {\n      Dialog.confirm({\n        title: \"提示\",\n        message: \"您是物业人员，请检查信息是否妥当？\"\n      })\n        .then(() => {\n          return addCommentInforService({\n            /*NOTE_CODE: this.$route.params.noteCode,\n            CONTENT: this.postText,\n            OWNER_CODE: this.userInfo.USER_CODE,\n            OWNER_NAME: this.userInfo.USER_NAME,\n            OWNER_NICK_NAME: this.userInfo.USER_NICK_NAME,\n            PHONE: this.userInfo.PHONE,\n            HEAD_PIC_URL: this.userInfo.HEAD_PIC_URL,\n            PIC_URL: this.selectPictures.join(\",\")*/\n            \"content\": this.postText,\n            \"isProperty\": 1,\n            \"noteCode\": this.$route.params.noteCode,\n            \"picUrl\": this.selectPictures,\n            \"userCode\": this.userInfo.USER_CODE\n          });\n        })\n        .then(() => {\n          if(this.$route.params.fromComments){\n            store.get(\"updateNoteMsgInComments\")();\n          } else if(this.$route.params.fromNewMsgDetail){\n            store.get(\"updateNewMsgDetail\")();\n          } else {\n            store.get(\"updateNoteMsg\")();\n          }\n          this.goBack();\n        })\n        .catch(error => {\n          error != \"cancel\" ? Toast.fail(error) : \"\";\n        });\n    },\n\n    /**\n     * 发帖行为，调用接口发布\n     * @param\n     **/\n    addNote() {\n      let custNews = (store.get(\"custNews\") && store.get(\"custNews\").AREA_CODE) ?\n              store.get(\"custNews\") : storage.getStorage(\"custNews\");\n      if (this.userInfo.AREA_CODE == \"\" || this.userInfo.AREA_CODE == undefined) {\n        log.i(\"area code empty, reset first.\");\n        this.userInfo = (custNews && custNews.AREA_CODE) ? custNews : storage.getStorage(\"custNews\");\n      }\n      if (this.userInfo.AREA_CODE != custNews.AREA_CODE) {\n        log.i(\"area code changed, reset first.\");\n        this.userInfo = (custNews && custNews.AREA_CODE) ? custNews : storage.getStorage(\"custNews\");\n      }\n      if(!this.userInfo.AREA_CODE) {\n        Toast.fail(\"请选择小区\");\n        return;\n      }\n      Dialog.confirm({\n        title: \"提示\",\n        message: \"您是物业人员，请检查信息是否妥当？\"\n      })\n        .then(() => {\n          return addNoteService(\n            this.postText,\n            this.userInfo.USER_CODE,\n            this.userInfo.AREA_CODE,\n            this.selectPictures\n          );\n        })\n        .then(() => {\n          if(this.$route.params.fromComments){\n            store.get(\"updateNoteMsgInComments\")();\n          } else if(this.$route.params.fromNewMsgDetail){\n            store.get(\"updateNewMsgDetail\")();\n          } else {\n            store.get(\"updateNoteMsg\")(false);\n          }\n          this.goBack();\n        })\n        .catch(error => {\n          error != \"cancel\" ? Toast.fail(error) : \"\";\n        });\n    },\n\n    /**\n     * 添加回复信息\n     * @param\n     **/\n    addReply() {\n      Dialog.confirm({\n        title: \"提示\",\n        message: \"您是物业人员，请检查信息是否妥当？\"\n      })\n        .then(() => {\n          let {\n            evalCode,\n            /*OWNER_NAME,\n            OWNER_CODE,\n            OWNER_NICK_NAME,\n            ROOM_CODE,\n            ROOM_NAME,\n            BUILD_NAME,\n            BUILD_CODE,\n            TYPE_FLAG,\n            UNIT_NO,\n            NOTE_CODE*/\n          } = JSON.parse(this.$route.params.replyParam) || {};\n          let {\n            USER_CODE,\n            /*USER_NAME,\n            FLAG,\n            USER_NICK_NAME,\n            PHONE,\n            HEAD_PIC_URL*/\n          } = this.userInfo;\n          let reqData = {\n            /*EVAL_CODE,\n            BE_OWNER_CODE: OWNER_CODE,\n            BE_OWNER_NICK_NAME: OWNER_NICK_NAME,\n            BE_OWNER_NAME: OWNER_NAME,\n            BE_TYPE_FLAG: TYPE_FLAG + \"\",\n            NOTE_CODE,\n            BE_UNIT_NO: UNIT_NO,\n            BE_BUILD_CODE: BUILD_CODE,\n            BE_BUILD_NAME: BUILD_NAME,\n            BE_ROOM_CODE: ROOM_CODE,\n            BE_ROOM_NAME: ROOM_NAME,\n            OWNER_CODE: USER_CODE,\n            OWNER_NAME: USER_NAME,\n            OWNER_NICK_NAME: USER_NICK_NAME,\n            PHONE,\n            FLAG,\n            PIC_URL: this.selectPictures.join(\",\"),\n            HEAD_PIC_URL,\n            CONTENT: this.postText*/\n            \"content\": this.postText,\n            \"evalCode\": evalCode,\n            \"isProperty\": 1,\n            \"picUrl\": this.selectPictures,\n            \"userCode\": USER_CODE\n          };\n          //还需要添加图片参数\n          return saveReplyInforService(reqData);\n        })\n        .then(() => {\n          if(this.$route.params.fromComments){\n            store.get(\"updateNoteMsgInComments\")();\n          } else if(this.$route.params.fromNewMsgDetail){\n            store.get(\"updateNewMsgDetail\")();\n          } else {\n            store.get(\"updateNoteMsg\")();\n          }\n          this.goBack();\n        })\n        .catch(error => {\n          error != \"cancel\" ? Toast.fail(error) : \"\";\n        });\n    },\n\n    /**\n     * 删除指定的图片\n     * @param\n     * picIndex     Number    当前要删除图片的索引\n     **/\n    deletePicture(picIndex) {\n      this.selectPictures.splice(picIndex, 1);\n    },\n\n    /**\n     * 选择当前图片来源方式(拍照或本地上传)\n     * @param\n     * item      Object   当前选择的方式对象\n     * index     Number   当前选择的索引\n     **/\n    addSelect(item, index) {\n      this.getPictureData(index);\n    },\n\n    /**\n     * 调用摄像头或者本地相册进行图片上传\n     * @param\n     **/\n    getPictureData(selectIndex) {\n      selectIndex\n        ? this.$refs.addImageComponent.getPicture()\n        : this.$refs.addImageComponent.useCamera();\n    },\n\n    goBack() {\n      this.$router.back(-1);\n    },\n\n    stopSpeech(msg){\n        var _this = this;\n        var ifly = cordova.plugins.IflyForXwjPlugin;\n        if(_this.sendVal){\n            _this.waitStop = true;\n            if (msg) {\n              _this.$toast(msg + \", 结束收音，正在识别。\");\n            } else {\n              _this.$toast(\"长按停止，收音结束，正在识别。\");\n            }\n            setTimeout (() => {\n                if (_this.waitStop) {\n                  _this.sendVal = false;\n                  ifly.stopListen(null,null,null);\n                  console.log(\"停止收音\" + new Date().toString());\n                }\n            }, 3000);\n        } else {\n            Toast('说话时间太短，请长按说话');\n            _this.sendVal = false;\n        }\n        // console.log(\"停止录音 \"+ this.pressTimer);\n        _this.showTips = false;\n        clearTimeout(this.pressTimer);\n        _this.pressTimer = null;\n    },\n    //语音搜索\n    goToSpeech(e) {\n        var _this = this;\n        this.pressTimer = null;\n        var ifly = cordova.plugins.IflyForXwjPlugin;\n        this.$toast(\"正在聆听\");\n        this.showTips = true;\n        const platform = navigator.userAgent;\n        const isiOS = !!platform.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n        if(e.type === 'click' && e.button !==0){\n            return;\n        }\n        if(this.pressTimer == null) {\n          this.startSpeech(isiOS, ifly, false);\n        }\n    },\n    startSpeech(isiOS, ifly, cycle) {\n        var _this = this;\n        this.pressTimer = setTimeout(()=>{\n            if (!cycle) {\n              console.log(\"start speech from touch action, set send val true.\");\n              _this.sendVal=true;\n              if (_this.waitStop) {\n                  // if wait stop now, should stop and reset wait stop state first.\n                  _this.waitStop = false;\n                  ifly.stopListen(null,null,null);\n              }\n            }\n            if (isiOS) {\n                ifly.startListen(function (result) {\n                    if (result){\n                        if (_this.sendVal){\n                            var resultcatch = result.replace(/[\\ |\\~|\\`|\\!|\\@|\\#|\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\-|\\_|\\+|\\=|\\||\\\\|\\[|\\]|\\{|\\}|\\;|\\:|\\\"|\\'|\\,|\\<|\\。|\\>|\\/|\\？]/g,\"\");\n                            //_this.postText = _this.postText + resultcatch;\n                            let index = document.querySelector('.content-textarea').selectionStart;\n                            let shouldScrollToEnd = index == _this.postText.length;\n                            let frontStr = _this.postText.substring(0, index);\n                            let backStr = _this.postText.substring(index);\n                            let newIndex = index + resultcatch.length;\n                            let len = frontStr.length + resultcatch.length + backStr.length;\n                            if (len <= 200) {\n                              _this.postText = frontStr + resultcatch + backStr;\n                            } else {\n                              let res = frontStr + resultcatch + backStr;\n                              _this.postText = res.substring(0, 200);\n                            }\n                            if (shouldScrollToEnd) {\n                              document.querySelector('.content-textarea').scrollTop = 5000;\n                            }\n                            setTimeout(()=> {\n                                document.querySelector('.content-textarea').selectionStart = newIndex;\n                            }, 500);\n                        }\n                    }else {\n                        console.log('没有值');\n                    }\n                    if (_this.sendVal) {\n                        // restart voice catch before touch end\n                        _this.startSpeech(isiOS, ifly, true);\n                    }\n                },\n                function (message) {\n                    console.log(\"err\" + message);\n                    if (_this.sendVal) {\n                        // restart voice catch before touch end\n                        _this.startSpeech(isiOS, ifly, true);\n                    }\n                }, false, true);\n            } else {\n                let audioPermitted = !store.get(\"audioPermitted\") ? false : store.get(\"audioPermitted\");\n                if (!audioPermitted) {\n                  this.$dialog.alert({\n                      title: \"授权语音权限\",\n                      message: \"使用语音输入功能需要您先授权语音权限。\",\n                      showCancelButton: true\n                  })\n                  .then(() => {\n                     // 请求语音权限\n                     _this.requestAudioPermission();\n                  })\n                  .catch(() => { //点击取消按钮后的调用\n                     console.log(\"点击了取消按钮\");\n                  })\n                  // show dialog to request permission\n                  return;\n                }\n                var list = [\n                    'android.permission.RECORD_AUDIO'\n                ];\n                var permissions = cordova.plugins.permissions;\n                permissions.requestPermissions(list,function (status) {\n                    if(status.hasPermission){\n                        ifly.startListen(function (result) {\n                            if (result) {\n                                if (_this.sendVal) {\n                                    console.log(result + new Date().toString());\n                                    var resultcatch = result.replace(/[\\ |\\~|\\`|\\!|\\@|\\#|\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\-|\\_|\\+|\\=|\\||\\\\|\\[|\\]|\\{|\\}|\\;|\\:|\\\"|\\'|\\,|\\<|\\。|\\>|\\/|\\？]/g,\"\");\n                                    //_this.postText = _this.postText + resultcatch;\n                                    let index = document.querySelector('.content-textarea').selectionStart;\n                                    let shouldScrollToEnd = index == _this.postText.length;\n                                    let frontStr = _this.postText.substring(0, index);\n                                    let backStr = _this.postText.substring(index);\n                                    let newIndex = index + resultcatch.length;\n                                    let len = frontStr.length + resultcatch.length + backStr.length;\n                                    if (len <= 200) {\n                                      _this.postText = frontStr + resultcatch + backStr;\n                                    } else {\n                                      let res = frontStr + resultcatch + backStr;\n                                      _this.postText = res.substring(0, 200);\n                                    }\n                                    if (shouldScrollToEnd) {\n                                      document.querySelector('.content-textarea').scrollTop = 5000;\n                                    }\n                                    setTimeout(()=> {\n                                        document.querySelector('.content-textarea').selectionStart = newIndex;\n                                    }, 500);\n                                }\n                            }else {\n                                console.log('没有值');\n                            }\n                            console.log(\"send val \" + _this.sendVal);\n                            if (_this.sendVal) {\n                              // restart voice catch before touch end\n                              _this.startSpeech(isiOS, ifly, true);\n                            }\n                        },\n                        function (message) {\n                            console.log(\"err\" + message);\n                            console.log(\"send val \" + _this.sendVal);\n                            if (_this.sendVal) {\n                              // restart voice catch before touch end\n                              _this.startSpeech(isiOS, ifly, true);\n                            }\n                        }, false, true);\n                    }\n                },function (status) {\n                    alert(\"请打开麦克风权限\");\n                });\n            }\n        },300);\n    },\n    requestAudioPermission() {\n      const platform = navigator.userAgent;\n      const isiOS = !!platform.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n      if (!isiOS) {\n        var list = [\n            'android.permission.RECORD_AUDIO'\n        ];\n        var permissions = cordova.plugins.permissions;\n        permissions.requestPermissions(list,function (status) {\n            if (status.hasPermission) {\n                store.set('audioPermitted', true);\n            } else {\n                store.set('audioPermitted', false);\n            }\n        },function (status) {\n            store.set('audioPermitted', false);\n            this.$toast.alert(\"请打开麦克风权限\");\n        });\n      }\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n$bigSize: 18px;\n$smallSize: 14px;\n$cSize: 16px;\n$superSmall: 12px;\n$replyColor: #5e9be3;\n.van-nav-bar {\n  position: relative !important;\n}\n.post-wrapper {\n  flex: 1;\n  .post-content {\n    font-size: $smallSize;\n\n    > textarea {\n      border: none;\n      box-sizing: border-box;\n      padding: 12px;\n      width: 100%;\n      word-break: break-all;\n    }\n  }\n  .input-length {\n    margin: 0;\n    text-align: right;\n    color: #bbb;\n    font-size: $smallSize;\n    line-height: 30px;\n    padding: 0 12px;\n  }\n}\n\n.voice-input-hint {\n    margin: 0;\n    text-align: center;\n    color: #bbb;\n    font-size: $smallSize;\n    height: 30px;\n    width: 100px;\n    line-height: 30px;\n    padding: 0 12px;\n}\n\n  .voice-handle {\n    font-size: $superSmall;\n    margin-top: 5px;\n    .desc {\n      color: #9a9a9a;\n      width: 220px;\n      > span:first-child {\n        margin-right: 20px;\n      }\n    }\n    .handle-type {\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n      > span {\n        display: flex;\n        align-items: center;\n        > i {\n          margin-right: 5px;\n        }\n      }\n      > span:last-child {\n        margin-left: 20px;\n      }\n    }\n  }\n\n  .cls-icon {\n    width: 30px;\n    height: 30px;\n    margin-right: 5px;\n    margin-left: 5px;\n  }\n  .cls-voice {\n    display: flex;\n    align-items: center;\n    width: 220px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddNotePage.vue?vue&type=template&id=45cddf5e&scoped=true&\"\nimport script from \"./AddNotePage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddNotePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddNotePage.vue?vue&type=style&index=0&id=45cddf5e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45cddf5e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"image-list\"},[_vm._l((_vm.selectPictures),function(picUrl,picIndex){return _c('li',{key:picIndex,style:({width:_vm.imageWidthAndHeight+'px',height:_vm.imageWidthAndHeight+'px'})},[(_vm.isShowAdd)?_c('van-icon',{staticClass:\"delete-picture\",attrs:{\"color\":\"rgb(181, 181, 181)\",\"name\":\"clear\"},on:{\"click\":function($event){return _vm.deletePicture(picIndex)}}}):_vm._e(),_c('img',{attrs:{\"src\":picUrl,\"alt\":\"\"},on:{\"click\":function($event){return _vm.preview(picIndex)}}})],1)}),(_vm.accountAddImage && _vm.isShowAdd)?_c('li',[_c('div',{staticClass:\"add-image\",on:{\"click\":_vm.addAction}},[_c('img',{staticClass:\"cls-icon\",attrs:{\"src\":require(\"../../assets/imgs/find/upload_img.png\"),\"alt\":\"\"}})])]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <ul class=\"image-list\">\n      <li\n        v-for=\"(picUrl,picIndex) in selectPictures\"\n        v-bind:key=\"picIndex\"\n        v-bind:style=\"{width:imageWidthAndHeight+'px',height:imageWidthAndHeight+'px'}\"\n      >\n        <van-icon\n          v-if=\"isShowAdd\"\n          class=\"delete-picture\"\n          color=\"rgb(181, 181, 181)\"\n          @click=\"deletePicture(picIndex)\"\n          name=\"clear\"\n        />\n        <img :src=\"picUrl\" @click=\"preview(picIndex)\" alt />\n      </li>\n      <li v-if=\"accountAddImage && isShowAdd\">\n        <div class=\"add-image\" @click=\"addAction\">\n          <img class=\"cls-icon\" src=\"../../assets/imgs/find/upload_img.png\" alt=\"\">\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { ImagePreview, Toast } from \"vant\";\nimport config from \"../../common/config\";\nimport { store } from \"../../utils/store\";\nexport default {\n  name: \"AddImage\",\n  props: {\n    maxImageCount: {\n      type: Number,\n      default: 4\n    },\n    selectPictures: {\n      type: Array,\n      default: function() {\n        return []\n      }\n    },\n    isShowAdd: {\n      type: Boolean,\n      default: true\n    },\n    imageType: {\n      type: Number,\n      default: -1,\n    }\n  },\n  data() {\n    return {\n      // selectPictures: []\n    };\n  },\n  mounted() {\n    //image 宽度高度自适应\n    let ulDom = document.querySelector(\".image-list\");\n    this.imageWidthAndHeight = ulDom.offsetWidth / 4;\n  },\n  computed: {\n    //超过最大数不显示添加\n    accountAddImage() {\n      return this.selectPictures.length < this.maxImageCount;\n    },\n\n    //相册选择图片最大数值\n    maximumImagesCount() {\n      return this.maxImageCount - this.selectPictures.length;\n    }\n  },\n\n  watch: {\n    selectPictures(newValue, oldName) {\n      console.log(newValue)\n      this.$emit(\"imageMapChange\", this.selectPictures.slice(0));\n    }\n  },\n  methods: {\n    /**\n     * 图片预览\n     * @param\n     * startPosition  Number   当前选中图片索引\n     **/\n    preview(startPosition) {\n      ImagePreview({ images: this.selectPictures, startPosition });\n    },\n\n    /**\n     * 图片添加行为\n     **/\n    addAction() {\n      this.$emit(\"imageAddAction\");\n    },\n\n    /**\n     * 删除指定的图片\n     * @param\n     * picIndex     Number    当前要删除图片的索引\n     **/\n    deletePicture(picIndex) {\n      this.selectPictures.splice(picIndex, 1);\n    },\n\n    /**\n     * 选择当前图片来源方式(拍照或本地上传)\n     * @param\n     * item      Object   当前选择的方式对象\n     * index     Number   当前选择的索引\n     **/\n    addSelect(item, index) {\n      index ? this.getPicture() : this.useCamera();\n    },\n\n    /**\n     * 调用摄像头插件进行拍照\n     * @param\n     **/\n    useCamera() {\n      this.$plugin.usePlugin(\"camera\")(\n        imageData => {\n          this.uploadFile(imageData);\n        },\n        error => {\n          Toast.fail(error);\n        }\n      );\n    },\n\n    /**\n     * 上传图片数据\n     * @param\n     * fileURL  String  图片本地资源路径\n     **/\n    uploadFile(fileURL) {\n      let loading = Toast.loading({\n        duration: 0,\n        mask: true,\n        message: \"加载中...\"\n      });\n      let reqUrl = `${store.get(\n        \"custUrl.homeUrl\"\n      )}xwj-sys-media/media/upload/uploadFile`;\n      var options = {};\n      options.params = {\n        file: \"\",\n        source: \"wyApp\",\n        business: \"complPic\"\n      };\n      if ( 1 == this.imageType) {\n        options.params.business = \"dicoveryPic\";\n      }\n      options.headers = { contentType: \"multipart/form-data\" };\n      this.$plugin.usePlugin(\"fileTransfer\")(\n        reqUrl,\n        fileURL,\n        result => {\n          loading.clear();\n          let resData = JSON.parse(result.response);\n          if (resData.resultCode == '0') {\n            this.selectPictures.push(resData.data);\n          } else {\n            Toast.fail(resData.msg);\n          }\n        },\n        error => {\n          loading.clear();\n          Toast.fail(error);\n        },\n        options\n      );\n    },\n\n    /**\n     * 从本地相册进行上传\n     **/\n    getPicture() {\n      this.$plugin.usePlugin(\"getPictures\")(\n        this.maximumImagesCount,\n        images => {\n          images.forEach(imageData => {\n            this.uploadFile(imageData);\n          });\n        },\n        error => {\n          Toast.fail(error);\n        }\n      );\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.image-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  > li {\n    position: relative;\n    width: 25%;\n    flex-shrink: 0;\n    padding: 3px;\n    box-sizing: border-box;\n    .delete-picture {\n      position: absolute;\n      right: 5px;\n      top: 5px;\n    }\n    > img {\n      width: 100%;\n      height: 100%;\n    }\n    .add-image {\n      width: 85px;\n      height: 85px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: #fff;\n      border: 1px solid #e4e4e4;\n    }\n    .cls-icon {\n      width: 87px;\n      height: 87px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddImage.vue?vue&type=template&id=0fc768a1&scoped=true&\"\nimport script from \"./AddImage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddImage.vue?vue&type=style&index=0&id=0fc768a1&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fc768a1\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACkCAYAAAAZtYVBAAAAAXNSR0IArs4c6QAACAZJREFUeAHtm89rXFUUxzM/SkOMDOkmYKjBBDXQRdtkkVU3+QMEEQRR6qLu3DULF4K6ERel/QdqF/oH+A9Es7ELQZKZMS0UisG6ULIJJGlCsMOM505zw+v8SObHm3fvufcz8Hjv3fvmnnM+5/S9M9/05cZaPtVq9d16vf6BbO8tLi7e2Nzc/C95ydLSUi55vrGx0UieMw+fZD201oeZa62R5PV5e9JoNHLy5S9rtdpjKcZvZXz50aNHb9p59hAYBQGpu8LTp08v2rWL9qBcLn8jx1/lcrnGxMTErzMzM1OTk5MVO2/3ssArd0Q7bvfMw8fWQqe93OyeS438JnMPZPu+UqnckfM3ZPvI1N5pQU5NTX23v79/ZXZ2dq5UKt3otBhjEBiWQD6fn5Q1ls324sWLm1KIb8s2LYX5TMa+OO0HZdAc/yzbimx8IJAJgb29vfL29vY1qb96oVCYPe0hxfpnslGMmaQBI5aAPI2vS4v4UM4L8ji/lSzIW/Yi9hDIksDly5dLYu++PM63iiLr3JXb5a4MXMnSCWxBwBKQO+ScSEFXzXlRivG2nWAPAUcEzA+d5if5yLZj7CHgjMCp7OPMAwxDQAhI6/jykS1i5L0TIjy6KQ1nBKR1bP4RJqlDnvkXGGeeYjgKAnKHbMZJDxlFuvUESQ+pJ1dBeyqtY9UEaHRIesegU60jOPmvjteaBSnN5F0dLuNlDAToIWPIsqIY6SEVJStkV9EhQ86uwtjQIRUmLWSX0SFDzq7i2OghFScvJNfRIUPKZgCxoEMGkMQQQ0CHDDGrimOih1ScvJBcR4cMKZsBxIIOGUASQwoBHTKkbAYUCz1kQMnUHAo6pObsBeg7OmSASQ0hJHTIELIYUAz0kAElU3Mo6JCasxeg7+iQASZVc0jokJqzF7Dv9JABJ1dTaOiQmrIVga/okBEkWWOI6JAasxawz/SQASdXU2jokJqyFYGv6JARJFlTiOiQmrIVka/0kBEl2+dQ0SF9zk6EvqFDRph0DSGjQ2rIUkQ+0kNGlGyfQ0WH9Dk7EfqGDhlh0n0OGR3S5+xE7Bs9ZMTJ9yl0dEifsoEvY+iQFIGXBNAhvUxLvE7RQ8abe68iR4f0Kh04gw6ZUg3s7u6OPXnypLnawsLC2KVLl1JaOa5l0CFTyrcpxuPj4+ZmCzOlpaNchh5yyLSbYrSf5LEdY98bAXTI3jhxVUYE0CEzAo2Z/gigQ/bHi6tHTIAecsSAWb43AuiQvXHiqowIWB2yKM3kqrEpA7czso0ZCHQlQA/ZFQ0TLgjQQ7qgjs02AuiQbUgYcEkAHdIlfWx3JUAP2RUNEy4I0EO6oI7NNgLokG1IGHBJAB3SJX1sdyVAD9kVDRMuCNBDuqCOzTYC6JBtSBhwScDqkLmNjY2GcUQGXPqTmW37Dozv/7t7fHx8LKZ3dOQOmTNFEF0Pad+ByexfwICGzD+YGN/RoYccsGD4WroErA6ZlzvlPbOlu7y/q5nHoHkc+v6xj2zf/UzLP6NDmq353DaLykmzl0zLQCzrrK+vvxLqysrKK+ec9EaA97J748RVGROgh8wYOOY6E5C2sWpminKr5NWFzowYzZCA1SGL0jrezdAupiBwJoHodMgzaTDpnAA9pPMU4IAhYHXIYkKDpJekNpwRMBqkMc572c5SgOFOBOghO1FhzBkBekhn6DGcJIAOmaTBsXMC6JDOU4ADnQjQQ3aiwpgzAvSQztBjOEkAHTJJg2PnBNAhnacABzoRoIfsRIUxZwToIYdEb141sG8wang1YshwR/Z1dMiU0Jp3dOzbgeaYz2AErA4Z3XvZg+HiW6MmIHfION/LHjVY1h+OAD3kcPz4dkoE0CFTAsky6RCwOiTvZafDk1WGJCB3yOYK6JBDguTr6RKgh0yXJ6sNSAAdckBwfG00BKwOyXvZo+HLqgMSoIccEBxfGw0BesjRcGXVPgmgQ/YJjMtHSwAdcrR8Wb1PAuiQfQLj8mwI0ENmwxkr5xBAhzwHENPZEkCHzJY31nokgA7ZIyguy4YAPWQ2nLFyDgF0yHMAMZ0tAXTIbHlj7RwC6JDnAGLaDQF6SDfcsdpCAB2yBQinbgmgQ7rlj/UuBNAhu4Bh2A0Bekg33LHaQgAdsgUIp24JoEO65Y/1FgLokC1AOPWDAD2kH3mI3gt0yOhLwC8A6JB+5QNvTgigQ1IKXhGgh/QqHfE6gw4Zb+69jBwd0su0xOsUOmS8ufc6cnpIr9MTj3PokPHkWkWk6JAq0hSfk+iQ8eXc64jpIb1OTzzOoUPGk2sVkaJDqkhTPE6iQ8aTa1WR0kOqSle4zqJDhptblZGhQ6pMW/hOo0OGn2NVEdJDqkpXuM6iQ4abW5WRddIhDySSSZXR4LRqAvV6/XmlUjG1t5fsIR+rjgrn1RI4Ojr6yzgv0s+zZEE+UBsRjqsmsLOz8+dJAGunBbm1tfXLwcHB76ojw3mNBNbn5+ffz+fzHxYKhfs5E0G1Wl2u1Wprcss8mpub+6dUKl3XGBk+qyOwLh5/InX3r/W8WZDyC6cgP7t/kMGPZbIxMTHxUArztQsXLrwjY/zQsbTYD03A/IAxPePh4eHa9PT0qqm35KLNgjQDUpT5crl8Rw4/l+OLsr+6tLT0h5kzH1OwMn7z5VmzAf1U/tzzoz1nHj791IfUzd9SP/NSkDVbQ2Z/2kPKRF0uWB0fH39Ljr9OFmPyCxxDYBgCUluHshlF5yf53fJ661r/A5Y3sxOPXXRUAAAAAElFTkSuQmCC\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=style&index=0&id=45cddf5e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddNotePage.vue?vue&type=style&index=0&id=45cddf5e&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"www/img/search_voice.4b1768a6.gif\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAABGdBTUEAALGPC/xhBQAAAwJJREFUWAntV79PU1EU/i5Y2hiI0U3QKIPFQCyLK0rUXTeicfPH7qJ/gy7uopuLm7BrUCYSF2raFByqUTTRRGMgSql4Pd9575ZSW9rb1zeQvJPc9r57zv3O9753bvsOkFiiwP5WwPSMvrUGq29vAvYGrJlQXGMLgHmC7JnHMMb2IldvCL8vHkWl+hQWF5qSMniJdOo6To5/aer3WOzziG0eSmUdWWM+oQ/XkEkN6+Cca7wRjZHYiBYZACv5W7D2kRI72D+J4xPfd3H6WDiCX9vLEnNMYm5jLDe7y+95EV1h1izN2Lv/keU6b4A+tTA2uOjqMzphd8AGUgstGTifi20Z2N4RnTDsoKbZ60DVfGFse14tI3pAuCV2LI6EcCyy1oEmCteJEcs0UTgWWetAE4XrxIhlmigci6x1oH4Kl/LrKC1bfC0E7w8KZDb0iy/xrazmC2MZ9600pFjE9DA/wrCfFXvjz0gth7ZBcrVVna6tNU6cz8XSv14ZDsJCzMY9La79CBtTVJyqObeDJz0bzZoH4Mt6o3GNPrUwlnOHYYz0fZ2bJ2HMhdAztRTaYErPxo6CncXq8lWwBDg4r3UbEsPYHQswDOZ3ltrP/FqkD/nD2LRl6dEOod9M41TulaYgOdfXNcvZ2IS+y5/Htl2AwU9kzChO5H4029ZszU9hBe67r0Dbdha8ARpf0LO5S9qzGSxJvyQHUQbn7OPocy/x3MO9aoLlQZZb/BTmjnI5g8r6ohTtWSGziAwud5xUn5CUlbVTkvoN0kNTGB3dJGyn5qcwUZnApK/Ira5p4t92CXzE7YwxjCVZ7iWGJ1mm8FfYEVtZGYGtPFelFcm8kK9nSNnXGDywpmH8+Qt+DWaE6MVgqyhLsmNjQUyw2PFn94SZguWxtXEH+HtPD+JeaXnAIDU7MPiwG2UddDTCDoW1WZFathx2XJazoWtV6rwoz3EOaRmeB8zBx//Nv2+OGMz/0MVAwgcyIeyjVjex0Q+db62enoyUc9+VRDdPJdmTKJAoEEGBf9L4A/H4cbDUAAAAAElFTkSuQmCC\""],"sourceRoot":""}
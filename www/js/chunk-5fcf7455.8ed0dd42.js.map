{"version":3,"sources":["webpack:///./node_modules/vant/es/field/utils.js","webpack:///./node_modules/vant/es/utils/validate/system.js","webpack:///./node_modules/vant/es/utils/dom/reset-scroll.js","webpack:///./node_modules/vant/es/field/index.js","webpack:///./src/components/xt/page/visitorRegister/Record.vue?e8ea","webpack:///src/components/xt/page/visitorRegister/Record.vue","webpack:///./src/components/xt/page/visitorRegister/Record.vue?58b6","webpack:///./src/components/xt/page/visitorRegister/Record.vue?7758","webpack:///./node_modules/vant/es/search/index.js","webpack:///./src/components/xt/page/visitorRegister/Record.vue?13f8","webpack:///./src/components/xt/assets/imgs/visitorRegister/icon_popup_close.png"],"names":["formatNumber","value","allowDot","dotIndex","indexOf","slice","replace","split","regExp","isIOS","test","navigator","userAgent","toLowerCase","resetScroll","_createNamespace","create","createComponent","bem","inheritAttrs","provide","vanField","this","inject","vanForm","default","props","name","String","rules","Array","error","Boolean","disabled","readonly","autosize","Object","leftIcon","rightIcon","clearable","formatter","Function","maxlength","Number","labelWidth","labelClass","labelAlign","inputAlign","placeholder","errorMessage","errorMessageAlign","showWordLimit","type","data","focused","validateMessage","watch","resetValidation","validateWithTrigger","$nextTick","adjustSize","mounted","format","addField","beforeDestroy","removeField","computed","showClear","showError","listeners","$listeners","input","onInput","keypress","onKeypress","focus","onFocus","blur","onBlur","click","labelStyle","getProp","width","formValue","children","$scopedSlots","$slots","methods","$refs","runValidator","rule","Promise","resolve","returnVal","validator","then","isEmptyValue","isArray","length","runSyncRule","required","pattern","getRuleMessage","message","runRules","_this","reduce","promise","result","validate","_this2","trigger","defaultTrigger","validateTrigger","filter","target","_target","originValue","_originValue","event","composing","$emit","onClick","onClickLeftIcon","onClickRightIcon","onClear","keyCode","style","height","scrollHeight","_this$autosize","maxHeight","minHeight","Math","min","max","genInput","h","$createElement","inputSlot","slots","inputProps","ref","class","domProps","attrs","$attrs","on","directives","inputMode","inputType","genLeftIcon","showLeftIcon","iconPrefix","genRightIcon","showRightIcon","genWordLimit","count","full","genMessage","showErrorMessage","key","genLabel","colon","label","render","_bem","arguments","scopedSlots","icon","Label","title","size","center","border","isLink","clickable","arrowDirection","_vm","_h","_c","_self","staticClass","staticStyle","pageName","goBack","_t","$event","timePicker","_v","_s","visitorYearMonth","model","callback","$$v","expression","minDate","maxDate","onConfirmTime","onSearch","visitorName","onRefresh","isPulling","rawName","recordList","finished","onLoad","loading","_l","item","index","gotouchstart","id","status","gotouchmove","gotouchend","guest","start_time","door_num","guest_phone","end_time","face","book_type","_e","plate_num","detail","stopPropagation","showDetail","cancelRegister","againRegister","viewQRcode","qrOrderCode","viewMap","onConfirm","showConfirm","onDeleteConfirm","showDeleteConfirm","closeImg","closePopup","mapImg","showMap","staticRenderFns","components","NavigationBar","Date","userCode","visitorYear","visitorMonth","isDisabled","cancelId","deleteId","pageNum","total","qrCanvas","showCode","toString","store","getRecordList","$router","push","val","getFullYear","getMonth","stationId","source","booker","pageSize","year","month","setTimeout","console","log","$forceUpdate","guest_type_name","guest_type","guest_type_time","roomCode","roomName","path","query","bookingid","clearTimeout","timeOutEvent","that","baseClientY","e","touches","clientY","qrcode","QrcodeImg","component","t","Search","ctx","Action","showAction","onCancel","action","actionText","fieldData","inheritData","undefined","background","left","shape","module","exports"],"mappings":"gLAAO,SAASA,EAAaC,EAAOC,GAClC,GAAIA,EAAU,CACZ,IAAIC,EAAWF,EAAMG,QAAQ,KAEzBD,GAAY,IACdF,EAAQA,EAAMI,MAAM,EAAGF,EAAW,GAAKF,EAAMI,MAAMF,GAAUG,QAAQ,MAAO,UAG9EL,EAAQA,EAAMM,MAAM,KAAK,GAG3B,IAAIC,EAASN,EAAW,WAAa,MACrC,OAAOD,EAAMK,QAAQE,EAAQ,I,4BCPxB,SAASC,IAEd,OAAO,QAAmB,uBAAuBC,KAAKC,UAAUC,UAAUC,e,gBCDxE,EAAQ,IAGL,SAASC,IACV,GACF,eAAiB,kB,gECEjBC,EAAmB,OAAAC,EAAA,MAAgB,SACnCC,EAAkBF,EAAiB,GACnCG,EAAMH,EAAiB,GAEZ,OAAAE,EAAA,CACbE,cAAc,EACdC,QAAS,WACP,MAAO,CACLC,SAAUC,OAGdC,OAAQ,CACNC,QAAS,CACPC,QAAS,OAGbC,MAAO,eAAS,GAAI,OAAW,CAC7BC,KAAMC,OACNC,MAAOC,MACPC,MAAOC,QACPC,SAAUD,QACVE,SAAUF,QACVG,SAAU,CAACH,QAASI,QACpBC,SAAUT,OACVU,UAAWV,OACXW,UAAWP,QACXQ,UAAWC,SACXC,UAAW,CAACC,OAAQf,QACpBgB,WAAY,CAACD,OAAQf,QACrBiB,WAAY,KACZC,WAAYlB,OACZmB,WAAYnB,OACZoB,YAAapB,OACbqB,aAAcrB,OACdsB,kBAAmBtB,OACnBuB,cAAenB,QACfoB,KAAM,CACJA,KAAMxB,OACNH,QAAS,UAGb4B,KAAM,WACJ,MAAO,CACLC,SAAS,EACTC,gBAAiB,KAGrBC,MAAO,CACLvD,MAAO,WACLqB,KAAKmC,kBACLnC,KAAKoC,oBAAoB,YACzBpC,KAAKqC,UAAUrC,KAAKsC,cAGxBC,QAAS,WACPvC,KAAKwC,SACLxC,KAAKqC,UAAUrC,KAAKsC,YAEhBtC,KAAKE,SACPF,KAAKE,QAAQuC,SAASzC,OAG1B0C,cAAe,WACT1C,KAAKE,SACPF,KAAKE,QAAQyC,YAAY3C,OAG7B4C,SAAU,CACRC,UAAW,WACT,OAAO7C,KAAKiB,WAAajB,KAAKgC,SAA0B,KAAfhC,KAAKrB,OAAgB,eAAMqB,KAAKrB,SAAWqB,KAAKY,UAE3FkC,UAAW,WACT,SAAI9C,KAAKE,SAAWF,KAAKE,QAAQ4C,WAAa9C,KAAKiC,kBAI5CjC,KAAKS,OAEdsC,UAAW,WACT,IAAIA,EAAY,eAAS,GAAI/C,KAAKgD,WAAY,CAC5CC,MAAOjD,KAAKkD,QACZC,SAAUnD,KAAKoD,WACfC,MAAOrD,KAAKsD,QACZC,KAAMvD,KAAKwD,SAIb,cADOT,EAAUU,MACVV,GAETW,WAAY,WACV,IAAIpC,EAAatB,KAAK2D,QAAQ,cAE9B,GAAIrC,EACF,MAAO,CACLsC,MAAO,eAAQtC,KAIrBuC,UAAW,WACT,OAAI7D,KAAK8D,WAAa9D,KAAK+D,aAAad,OAASjD,KAAKgE,OAAOf,OACpDjD,KAAK8D,SAASnF,MAGhBqB,KAAKrB,QAGhBsF,QAAS,CAEPZ,MAAO,WACDrD,KAAKkE,MAAMjB,OACbjD,KAAKkE,MAAMjB,MAAMI,SAIrBE,KAAM,WACAvD,KAAKkE,MAAMjB,OACbjD,KAAKkE,MAAMjB,MAAMM,QAGrBY,aAAc,SAAsBxF,EAAOyF,GACzC,OAAO,IAAIC,SAAQ,SAAUC,GAC3B,IAAIC,EAAYH,EAAKI,UAAU7F,EAAOyF,GAEtC,GAAI,eAAUG,GACZ,OAAOA,EAAUE,KAAKH,GAGxBA,EAAQC,OAGZG,aAAc,SAAsB/F,GAClC,OAAI6B,MAAMmE,QAAQhG,IACRA,EAAMiG,QAGRjG,GAEVkG,YAAa,SAAqBlG,EAAOyF,GACvC,QAAIA,EAAKU,WAAY9E,KAAK0E,aAAa/F,OAInCyF,EAAKW,UAAYX,EAAKW,QAAQ3F,KAAKT,KAMzCqG,eAAgB,SAAwBrG,EAAOyF,GAC7C,IAAIa,EAAUb,EAAKa,QAEnB,OAAI,eAAWA,GACNA,EAAQtG,EAAOyF,GAGjBa,GAETC,SAAU,SAAkB3E,GAC1B,IAAI4E,EAAQnF,KAEZ,OAAOO,EAAM6E,QAAO,SAAUC,EAASjB,GACrC,OAAOiB,EAAQZ,MAAK,WAClB,IAAIU,EAAMlD,gBAAV,CAIA,IAAItD,EAAQwG,EAAMtB,UAMlB,GAJIO,EAAKlD,YACPvC,EAAQyF,EAAKlD,UAAUvC,EAAOyF,IAG3Be,EAAMN,YAAYlG,EAAOyF,GAK9B,OAAIA,EAAKI,UACAW,EAAMhB,aAAaxF,EAAOyF,GAAMK,MAAK,SAAUa,IACrC,IAAXA,IACFH,EAAMlD,gBAAkBkD,EAAMH,eAAerG,EAAOyF,YAH1D,EAJEe,EAAMlD,gBAAkBkD,EAAMH,eAAerG,EAAOyF,SAYvDC,QAAQC,YAEbiB,SAAU,SAAkBhF,GAC1B,IAAIiF,EAASxF,KAMb,YAJc,IAAVO,IACFA,EAAQP,KAAKO,OAGR,IAAI8D,SAAQ,SAAUC,GACtB/D,GACH+D,IAGFkB,EAAON,SAAS3E,GAAOkE,MAAK,WACtBe,EAAOvD,gBACTqC,EAAQ,CACNjE,KAAMmF,EAAOnF,KACb4E,QAASO,EAAOvD,kBAGlBqC,WAKRlC,oBAAqB,SAA6BqD,GAChD,GAAIzF,KAAKE,SAAWF,KAAKO,MAAO,CAC9B,IAAImF,EAAiB1F,KAAKE,QAAQyF,kBAAoBF,EAClDlF,EAAQP,KAAKO,MAAMqF,QAAO,SAAUxB,GACtC,OAAIA,EAAKqB,QACArB,EAAKqB,UAAYA,EAGnBC,KAET1F,KAAKuF,SAAShF,KAGlB4B,gBAAiB,WACXnC,KAAKiC,kBACPjC,KAAKiC,gBAAkB,KAG3BO,OAAQ,SAAgBqD,GAKtB,QAJe,IAAXA,IACFA,EAAS7F,KAAKkE,MAAMjB,OAGjB4C,EAAL,CAIA,IAAIC,EAAUD,EACVlH,EAAQmH,EAAQnH,MAChByC,EAAYpB,KAAKoB,UAOrB,GALI,eAAMA,IAAczC,EAAMiG,OAASxD,IACrCzC,EAAQA,EAAMI,MAAM,EAAGqC,GACvByE,EAAOlH,MAAQA,GAGC,WAAdqB,KAAK8B,MAAmC,UAAd9B,KAAK8B,KAAkB,CACnD,IAAIiE,EAAcpH,EACdC,EAAyB,WAAdoB,KAAK8B,KACpBnD,EAAQD,EAAaC,EAAOC,GAExBD,IAAUoH,IACZF,EAAOlH,MAAQA,GAInB,GAAIqB,KAAKkB,UAAW,CAClB,IAAI8E,EAAerH,EACnBA,EAAQqB,KAAKkB,UAAUvC,GAEnBA,IAAUqH,IACZH,EAAOlH,MAAQA,GAInB,OAAOA,IAETuE,QAAS,SAAiB+C,GAEpBA,EAAMJ,OAAOK,WAIjBlG,KAAKmG,MAAM,QAASnG,KAAKwC,OAAOyD,EAAMJ,UAExCvC,QAAS,SAAiB2C,GACxBjG,KAAKgC,SAAU,EACfhC,KAAKmG,MAAM,QAASF,GAIhBjG,KAAKY,UACPZ,KAAKuD,QAGTC,OAAQ,SAAgByC,GACtBjG,KAAKgC,SAAU,EACfhC,KAAKmG,MAAM,OAAQF,GACnBjG,KAAKoC,oBAAoB,UACzB5C,KAEF4G,QAAS,SAAiBH,GACxBjG,KAAKmG,MAAM,QAASF,IAEtBI,gBAAiB,SAAyBJ,GACxCjG,KAAKmG,MAAM,kBAAmBF,IAEhCK,iBAAkB,SAA0BL,GAC1CjG,KAAKmG,MAAM,mBAAoBF,IAEjCM,QAAS,SAAiBN,GACxB,eAAeA,GACfjG,KAAKmG,MAAM,QAAS,IACpBnG,KAAKmG,MAAM,QAASF,IAEtB7C,WAAY,SAAoB6C,GAIZ,WAAdjG,KAAK8B,MAAuC,KAAlBmE,EAAMO,SAClCxG,KAAKuD,OAGPvD,KAAKmG,MAAM,WAAYF,IAEzB3D,WAAY,WACV,IAAIW,EAAQjD,KAAKkE,MAAMjB,MAEvB,GAAoB,aAAdjD,KAAK8B,MAAuB9B,KAAKa,UAAcoC,EAArD,CAIAA,EAAMwD,MAAMC,OAAS,OACrB,IAAIA,EAASzD,EAAM0D,aAEnB,GAAI,eAAS3G,KAAKa,UAAW,CAC3B,IAAI+F,EAAiB5G,KAAKa,SACtBgG,EAAYD,EAAeC,UAC3BC,EAAYF,EAAeE,UAE3BD,IACFH,EAASK,KAAKC,IAAIN,EAAQG,IAGxBC,IACFJ,EAASK,KAAKE,IAAIP,EAAQI,IAI1BJ,IACFzD,EAAMwD,MAAMC,OAASA,EAAS,QAGlCQ,SAAU,WACR,IAAIC,EAAInH,KAAKoH,eACTtF,EAAO9B,KAAK8B,KACZuF,EAAYrH,KAAKsH,MAAM,SACvB7F,EAAazB,KAAK2D,QAAQ,cAE9B,GAAI0D,EACF,OAAOF,EAAE,MAAO,CACd,MAASvH,EAAI,UAAW,CAAC6B,EAAY,YACpC,CAAC4F,IAGN,IAAIE,EAAa,CACfC,IAAK,QACLC,MAAO7H,EAAI,UAAW6B,GACtBiG,SAAU,CACR/I,MAAOqB,KAAKrB,OAEdgJ,MAAO,eAAS,GAAI3H,KAAK4H,OAAQ,CAC/BvH,KAAML,KAAKK,KACXM,SAAUX,KAAKW,SACfC,SAAUZ,KAAKY,SACfc,YAAa1B,KAAK0B,cAEpBmG,GAAI7H,KAAK+C,UAET+E,WAAY,CAAC,CACXzH,KAAM,QACN1B,MAAOqB,KAAKrB,SAIhB,GAAa,aAATmD,EACF,OAAOqF,EAAE,WAAY,IAAe,CAAC,GAAII,KAG3C,IACIQ,EADAC,EAAYlG,EAchB,MAVa,WAATA,IACFkG,EAAY,OACZD,EAAY,WAGD,UAATjG,IACFkG,EAAY,MACZD,EAAY,WAGPZ,EAAE,QAAS,IAAgB,CAAC,CACjC,MAAS,CACP,KAAQa,EACR,UAAaD,IAEdR,MAELU,YAAa,WACX,IAAId,EAAInH,KAAKoH,eACTc,EAAelI,KAAKsH,MAAM,cAAgBtH,KAAKe,SAEnD,GAAImH,EACF,OAAOf,EAAE,MAAO,CACd,MAASvH,EAAI,aACb,GAAM,CACJ,MAASI,KAAKqG,kBAEf,CAACrG,KAAKsH,MAAM,cAAgBH,EAAE,OAAM,CACrC,MAAS,CACP,KAAQnH,KAAKe,SACb,YAAef,KAAKmI,iBAK5BC,aAAc,WACZ,IAAIjB,EAAInH,KAAKoH,eACTE,EAAQtH,KAAKsH,MACbe,EAAgBf,EAAM,eAAiBtH,KAAKgB,UAEhD,GAAIqH,EACF,OAAOlB,EAAE,MAAO,CACd,MAASvH,EAAI,cACb,GAAM,CACJ,MAASI,KAAKsG,mBAEf,CAACgB,EAAM,eAAiBH,EAAE,OAAM,CACjC,MAAS,CACP,KAAQnH,KAAKgB,UACb,YAAehB,KAAKmI,iBAK5BG,aAAc,WACZ,IAAInB,EAAInH,KAAKoH,eAEb,GAAIpH,KAAK6B,eAAiB7B,KAAKoB,UAAW,CACxC,IAAImH,EAAQvI,KAAKrB,MAAMiG,OACnB4D,EAAOD,GAASvI,KAAKoB,UACzB,OAAO+F,EAAE,MAAO,CACd,MAASvH,EAAI,eACZ,CAACuH,EAAE,OAAQ,CACZ,MAASvH,EAAI,WAAY,CACvB4I,KAAMA,KAEP,CAACD,IAAS,IAAKvI,KAAKoB,cAG3BqH,WAAY,WACV,IAAItB,EAAInH,KAAKoH,eAEb,IAAIpH,KAAKE,UAA6C,IAAlCF,KAAKE,QAAQwI,iBAAjC,CAIA,IAAIzD,EAAUjF,KAAK2B,cAAgB3B,KAAKiC,gBAExC,GAAIgD,EAAS,CACX,IAAIrD,EAAoB5B,KAAK2D,QAAQ,qBACrC,OAAOwD,EAAE,MAAO,CACd,MAASvH,EAAI,gBAAiBgC,IAC7B,CAACqD,OAGRtB,QAAS,SAAiBgF,GACxB,OAAI,eAAM3I,KAAK2I,IACN3I,KAAK2I,GAGV3I,KAAKE,SAAW,eAAMF,KAAKE,QAAQyI,IAC9B3I,KAAKE,QAAQyI,QADtB,GAIFC,SAAU,WACR,IAAIzB,EAAInH,KAAKoH,eACTyB,EAAQ7I,KAAK2D,QAAQ,SAAW,IAAM,GAE1C,OAAI3D,KAAKsH,MAAM,SACN,CAACtH,KAAKsH,MAAM,SAAUuB,GAG3B7I,KAAK8I,MACA3B,EAAE,OAAQ,CAACnH,KAAK8I,MAAQD,SADjC,IAKJE,OAAQ,WACN,IAAIC,EAEA7B,EAAI8B,UAAU,GACd3B,EAAQtH,KAAKsH,MACb9F,EAAaxB,KAAK2D,QAAQ,cAC1BuF,EAAc,CAChBC,KAAMnJ,KAAKiI,aAETmB,EAAQpJ,KAAK4I,WAQjB,OANIQ,IACFF,EAAYG,MAAQ,WAClB,OAAOD,IAIJjC,EAAE,OAAM,CACb,MAAS,CACP,KAAQnH,KAAKe,SACb,KAAQf,KAAKsJ,KACb,OAAUtJ,KAAKuJ,OACf,OAAUvJ,KAAKwJ,OACf,OAAUxJ,KAAKyJ,OACf,SAAYzJ,KAAK8E,SACjB,UAAa9E,KAAK0J,UAClB,WAAc1J,KAAK0D,WACnB,WAAc9D,EAAI,SAClB,WAAc,CAACA,EAAI,QAAS4B,GAAaxB,KAAKuB,YAC9C,eAAkBvB,KAAK2J,gBAEzB,YAAeT,EACf,MAAStJ,GAAKoJ,EAAO,CACnBvI,MAAOT,KAAK8C,WACXkG,EAAK,SAAWxH,GAAcA,EAAYwH,EAAK,cAA8B,aAAdhJ,KAAK8B,OAAwB9B,KAAKa,SAAUmI,IAC9G,GAAM,CACJ,MAAShJ,KAAKoG,UAEf,CAACe,EAAE,MAAO,CACX,MAASvH,EAAI,SACZ,CAACI,KAAKkH,WAAYlH,KAAK6C,WAAasE,EAAE,OAAM,CAC7C,MAAS,CACP,KAAQ,SAEV,MAASvH,EAAI,SACb,GAAM,CACJ,WAAcI,KAAKuG,WAEnBvG,KAAKoI,eAAgBd,EAAM,WAAaH,EAAE,MAAO,CACnD,MAASvH,EAAI,WACZ,CAAC0H,EAAM,cAAetH,KAAKsI,eAAgBtI,KAAKyI,mB,2CC1iBvD,I,EAAIM,EAAS,WAAa,IAAIa,EAAI5J,KAAS6J,EAAGD,EAAIxC,eAAmB0C,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,eAAe,CAACH,EAAG,iBAAiB,CAACnC,MAAM,CAAC,SAAWiC,EAAIM,UAAUrC,GAAG,CAAC,YAAc+B,EAAIO,SAAS,CAACP,EAAIQ,GAAG,QAAQ,CAACN,EAAG,MAAM,CAACE,YAAY,YAAYnC,GAAG,CAAC,MAAQ,SAASwC,GAAQT,EAAIU,YAAW,KAAQ,CAACR,EAAG,MAAM,CAACF,EAAIW,GAAGX,EAAIY,GAAGxK,KAAKyK,wBAAwB,CAAC,KAAO,eAAe,IAAI,GAAGX,EAAG,YAAY,CAACnC,MAAM,CAAC,SAAW,UAAU+C,MAAM,CAAC/L,MAAOiL,EAAc,WAAEe,SAAS,SAAUC,GAAMhB,EAAIU,WAAWM,GAAKC,WAAW,eAAe,CAACf,EAAG,sBAAsB,CAACnC,MAAM,CAAC,KAAO,aAAa,WAAWiC,EAAIkB,QAAQ,WAAWlB,EAAImB,SAASlD,GAAG,CAAC,OAAS,SAASwC,GAAQT,EAAIU,YAAa,GAAO,QAAUV,EAAIoB,kBAAkB,GAAGlB,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,YAAY,CAACH,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACnC,MAAM,CAAC,YAAc,SAASE,GAAG,CAAC,OAAS+B,EAAIqB,UAAUP,MAAM,CAAC/L,MAAOiL,EAAe,YAAEe,SAAS,SAAUC,GAAMhB,EAAIsB,YAAYN,GAAKC,WAAW,iBAAiBf,EAAG,OAAO,CAACE,YAAY,aAAanC,GAAG,CAAC,MAAQ,SAASwC,GAAQ,OAAOT,EAAIqB,SAASrB,EAAIsB,gBAAgB,CAACtB,EAAIW,GAAG,SAAS,KAAKT,EAAG,MAAM,CAACG,YAAY,CAAC,SAAW,SAAS,OAAS,QAAQ,CAACH,EAAG,mBAAmB,CAACjC,GAAG,CAAC,QAAU+B,EAAIuB,WAAWT,MAAM,CAAC/L,MAAOiL,EAAa,UAAEe,SAAS,SAAUC,GAAMhB,EAAIwB,UAAUR,GAAKC,WAAW,cAAc,CAACf,EAAG,MAAM,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAAOiL,EAAI0B,WAAW1G,OAAO,EAAGiG,WAAW,wBAAwBb,YAAY,UAAU,CAACF,EAAG,WAAW,CAACnC,MAAM,CAAC,SAAWiC,EAAI2B,SAAS,gBAAgB,eAAe,OAAS,IAAI1D,GAAG,CAAC,KAAO+B,EAAI4B,QAAQd,MAAM,CAAC/L,MAAOiL,EAAW,QAAEe,SAAS,SAAUC,GAAMhB,EAAI6B,QAAQb,GAAKC,WAAW,YAAYjB,EAAI8B,GAAI9B,EAAc,YAAE,SAAS+B,EAAKC,GAAO,OAAO9B,EAAG,MAAM,CAACnB,IAAIiD,EAAM5B,YAAY,cAAcnC,GAAG,CAAC,WAAa,SAASwC,GAAQ,OAAOT,EAAIiC,aAAaF,EAAKG,GAAIH,EAAKI,OAAQ1B,IAAS,UAAY,SAASA,GAAQ,OAAOT,EAAIoC,YAAY3B,IAAS,SAAW,SAASA,GAAQ,OAAOT,EAAIqC,WAAW5B,MAAW,CAACP,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKO,OAAO,IAAItC,EAAIY,GAAGmB,EAAKQ,eAAerC,EAAG,OAAO,CAACE,YAAY,QAAQvC,MAAmB,GAAbkE,EAAKI,QAAwB,GAAbJ,EAAKI,OAAU,OAAO,IAAI,CAACnC,EAAIW,GAAGX,EAAIY,GAAgB,GAAbmB,EAAKI,OAAU,MAAmB,GAAbJ,EAAKI,OAAU,MAAM,YAAYjC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,UAAUT,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKS,eAAetC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,WAAWT,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKU,kBAAkBvC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,UAAUT,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKW,iBAAiBxC,EAAG,MAAM,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAAOgN,EAAW,OAAEd,WAAW,iBAAiB,CAACf,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,YAAYT,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAc,GAAXmB,EAAKY,KAAQ,IAAI,UAAUzC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,WAA4B,GAAhBoB,EAAKa,UAAc1C,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACJ,EAAIW,GAAG,UAAUX,EAAI6C,KAAK3C,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKe,UAAU,IAAI,UAAU5C,EAAG,MAAM,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAAOgN,EAAc,UAAEd,WAAW,mBAAmBb,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,SAAST,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAGX,EAAIY,GAAGmB,EAAKe,kBAAkB5C,EAAG,MAAM,CAACE,YAAY,aAAavC,MAAMkE,EAAKgB,OAAO,GAAG,KAAK9E,GAAG,CAAC,MAAQ,SAASwC,GAAiC,OAAzBA,EAAOuC,kBAAyBhD,EAAIiD,WAAWjB,SAAa9B,EAAG,MAAM,CAACE,YAAY,UAAU,CAAe,GAAb2B,EAAKI,OAAWjC,EAAG,SAAS,CAACE,YAAY,iBAAiBnC,GAAG,CAAC,MAAQ,SAASwC,GAAQ,OAAOT,EAAIkD,eAAenB,EAAKG,OAAO,CAAClC,EAAIW,GAAG,UAAUX,EAAI6C,KAAK3C,EAAG,SAAS,CAACE,YAAY,MAAMnC,GAAG,CAAC,MAAQ,SAASwC,GAAQ,OAAOT,EAAImD,cAAcpB,MAAS,CAAC/B,EAAIW,GAAG,UAAUT,EAAG,SAAS,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,OAAqB,GAAbgN,EAAKI,QAA0B,GAAbJ,EAAKI,SAAyB,GAAXJ,EAAKY,KAAS1B,WAAW,uDAAuDb,YAAY,MAAMnC,GAAG,CAAC,MAAQ,SAASwC,GAAQ,OAAOT,EAAIoD,WAAWrB,EAAKsB,gBAAgB,CAACrD,EAAIW,GAAG,WAAWT,EAAG,SAAS,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAAoB,GAAbgN,EAAKI,QAA0B,GAAbJ,EAAKI,OAAWlB,WAAW,qCAAqCb,YAAY,MAAMnC,GAAG,CAAC,MAAQ+B,EAAIsD,UAAU,CAACtD,EAAIW,GAAG,iBAAgB,IAAI,GAAGT,EAAG,MAAM,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAA8B,GAAvBiL,EAAI0B,WAAW1G,OAAWiG,WAAW,yBAAyBb,YAAY,WAAW,CAACJ,EAAIW,GAAG,mBAAmB,GAAGT,EAAG,aAAa,CAACnC,MAAM,CAAC,aAAa,gBAAgB,uBAAuB,UAAU,iBAAmB,IAAIE,GAAG,CAAC,QAAU+B,EAAIuD,WAAWzC,MAAM,CAAC/L,MAAOiL,EAAe,YAAEe,SAAS,SAAUC,GAAMhB,EAAIwD,YAAYxC,GAAKC,WAAW,gBAAgB,CAACf,EAAG,IAAI,CAACF,EAAIW,GAAG,iBAAiBT,EAAG,IAAI,CAACF,EAAIW,GAAG,sBAAsBT,EAAG,aAAa,CAACnC,MAAM,CAAC,aAAa,gBAAgB,uBAAuB,UAAU,iBAAmB,IAAIE,GAAG,CAAC,QAAU+B,EAAIyD,iBAAiB3C,MAAM,CAAC/L,MAAOiL,EAAqB,kBAAEe,SAAS,SAAUC,GAAMhB,EAAI0D,kBAAkB1C,GAAKC,WAAW,sBAAsB,CAACf,EAAG,IAAI,CAACF,EAAIW,GAAG,oBAAoBT,EAAG,MAAM,CAAChC,WAAW,CAAC,CAACzH,KAAK,OAAOgL,QAAQ,SAAS1M,MAAOiL,EAAY,SAAEiB,WAAW,aAAab,YAAY,yBAAyBC,YAAY,CAAC,WAAa,sBAAsB,CAACH,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAcrC,MAAM,CAAC,IAAMiC,EAAI2D,UAAU1F,GAAG,CAAC,MAAQ,SAASwC,GAAQ,OAAOT,EAAI4D,iBAAiB1D,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,SAAS,CAACtC,IAAI,YAAYwC,YAAY,kBAAkBF,EAAG,oBAAoB,CAACnC,MAAM,CAAC,OAASiC,EAAI6D,OAAO,WAAY,GAAO/C,MAAM,CAAC/L,MAAOiL,EAAW,QAAEe,SAAS,SAAUC,GAAMhB,EAAI8D,QAAQ9C,GAAKC,WAAW,cAAc,IAC7wL8C,EAAkB,G,2ICqKtB,GACEtN,KAAM,SACNuN,YAAF,GACIC,cAAJ,QADA,iBAEA,oBAFA,iBAGA,oBAHA,GAKE9L,KAPF,WAQI,MAAO,CACLmI,SAAN,OACMI,YAAY,EACZQ,QAAS,IAAIgD,KAAK,KAAM,GACxB/C,QAAS,IAAI+C,KAAK,KAAM,GACxBC,SAAU,GACV7C,YAAa,GACb8C,YAAa,GACbC,aAAc,GACdb,aAAa,EACbE,mBAAmB,EACnBY,YAAY,EAEZC,SAAU,GACVC,SAAU,GAEV3C,SAAS,EACTL,WAAW,EACXG,UAAU,EACV8C,QAAS,EACTC,MAAO,EAEPhD,WAAY,GAGZiC,SAAU,EAAhB,QACMgB,SAAN,GACMC,UAAN,EACMf,OAAN,GACMC,SAAN,IAGE9K,SAAU,CACR6H,iBAAJ,WACM,OAAIzK,KAAKiO,aAAaQ,WAAW7J,OAAvC,EACe5E,KAAKgO,YAAYS,WAAhC,iCAEe,OAIblM,QAjDF,WAkDIvC,KAAK+N,SAAWW,EAApB,+BACI1O,KAAK2O,iBAEP1K,QAAS,CACPkG,OADJ,WAEMnK,KAAK4O,QAAQC,KAAK,CAAxB,YAGI7D,cALJ,SAKA,GACMhL,KAAKgO,YAAcc,EAAIC,cACvB/O,KAAKiO,aAAea,EAAIE,WAAa,EACrChP,KAAKqO,QAAU,EACfrO,KAAKsL,WAAa,GAClBtL,KAAK2O,gBACL3O,KAAKsK,YAAa,GAEpBW,SAbJ,SAaA,GACMjL,KAAKkL,YAAc4D,EACnB9O,KAAKqO,QAAU,EACfrO,KAAKsL,WAAa,GAClBtL,KAAK2O,iBAEPA,cAnBJ,WAoBM3O,KAAKyL,SAAU,EACf,IAAN,OACA,GACQwD,UAAW,EACXC,OAAQ,EACRC,OAAQ,KAERd,QAASrO,KAAKqO,QACde,SAAU,EACV/O,KAAML,KAAKkL,YACXmE,KAAMrP,KAAKgO,YACXsB,MAAOtP,KAAKiO,cAEd,OAAN,OAAM,CAAN,GACA,kBACQ,GAAR,aACU,IAAV,uCACU,EAAV,qBACY,EAAZ,aAEU,EAAV,aACU,EAAV,wBAEU,EAAV,kBAEQ,EAAR,WAGQ,EAAR,YACA,+BACU,EAAV,gBAGA,mBACQ,EAAR,WACQ,EAAR,QACQ,EAAR,eACQ,EAAR,gBACQ,EAAR,cAII9C,UA9DJ,WA8DA,WAIMnL,KAAKgO,YAAc,GACnBhO,KAAKiO,aAAe,GACpBsB,YAAW,WACT,EAAR,aACQ,EAAR,YACQ,EAAR,UACQ,EAAR,cACQC,QAAQC,IAAI,QACZ,EAAR,kBACA,MAGIjE,OA9EJ,WA8EA,WAIMxL,KAAKuL,UAAW,EACZvL,KAAKsL,WAAW1G,QAAU5E,KAAKsO,MACjCtO,KAAKuL,UAAW,EAGlBgE,YAAW,WACT,EAAR,aACQ,EAAR,YACQ,EAAR,UACQC,QAAQC,IAAI,QACZ,EAAR,kBACA,MAEI5C,WA/FJ,SA+FA,GACM7M,KAAKsL,WAAWM,GAAOe,QAAU3M,KAAKsL,WAAWM,GAAOe,OACxD3M,KAAK0P,gBAEP3C,cAnGJ,SAmGA,GACM,IAAN,GACQb,MAAOP,EAAKO,MACZG,YAAaV,EAAKU,YAClBK,UAAWf,EAAKe,UAEhBN,SAAUT,EAAKS,SACfuD,gBAAiBhE,EAAKgE,gBACtBC,WAAYjE,EAAKiE,WACjBC,gBAAiBlE,EAAKkE,gBACtBC,SAAUnE,EAAKmE,SACfC,SAAUpE,EAAKoE,UAEjB/P,KAAK4O,QAAQC,KAAK,CAChBmB,KAAM,4BACNC,MAAOlO,KAGX+K,eArHJ,SAqHA,GACM9M,KAAKoN,aAAepN,KAAKoN,YACzBpN,KAAKmO,SAAWvC,GAElBuB,UAzHJ,WA0HMnN,KAAKyL,SAAU,EACf,IAAN,OACA,GACQyE,UAAWlQ,KAAKmO,UAElB,OAAN,OAAM,CAAN,GACA,kBACQ,EAAR,WACQ,EAAR,UACQ,EAAR,cACQ,EAAR,gBACA,cACU,EAAV,qBAGA,mBACQ,EAAR,WACQ,EAAR,UACQ,EAAR,cACQ,EAAR,gBACQ,EAAR,cAIItC,aAlJJ,SAkJA,OAEA,qBAEM,GAAc,GAAVE,EAAJ,CAIA,IAAN,OACM/L,KAAKoO,SAAWU,EAChBqB,aAAanQ,KAAKoQ,cAClBpQ,KAAKoQ,aAAeb,YAAW,WAC7Bc,EAAK/C,mBAAoB,IACjC,MACMtN,KAAKsQ,YAAcC,EAAEC,QAAQ,GAAGC,aAT9BjB,QAAQC,IAAI,eAWhBxD,WAlKJ,SAkKA,GACMkE,aAAanQ,KAAKoQ,eAEpBpE,YArKJ,SAqKA,GAEM,IAAN,uBACA,+BAEU,EAAV,IAGMmE,aAAanQ,KAAKoQ,eAEpB/C,gBA/KJ,WAgLMmC,QAAQC,IAAI,UACZzP,KAAKyL,SAAU,EACf,IAAN,OACA,GACQyE,UAAWlQ,KAAKoO,UAElB,OAAN,OAAM,CAAN,GACA,kBACQ,EAAR,WACQ,EAAR,UACQ,EAAR,cACQ,EAAR,gBACA,cACU,EAAV,qBAGA,mBACQ,EAAR,WACQ,EAAR,UACQ,EAAR,cACQ,EAAR,gBACQ,EAAR,cAGIpB,WAxMJ,SAwMA,GACMwC,QAAQC,IAAIiB,GACZ1Q,KAAKwO,UAAX,EACMxO,KAAKuO,SAAWvO,KAAKkE,MAAMyM,UAC3B,EAAN,6BAEInD,WA9MJ,WA+MMxN,KAAKwO,UAAX,GAEItB,QAjNJ,WAkNMlN,KAAK0N,SAAX,EACM1N,KAAKyN,OAAX,GACMzN,KAAKyN,OAAOoB,KAAK,EAAvB,+CC/a6X,I,wBCQzX+B,EAAY,eACd,EACA7H,EACA4E,GACA,EACA,KACA,WACA,MAIa,aAAAiD,E,2CCnBf,qFAUInR,EAAmB,eAAgB,UACnCE,EAAkBF,EAAiB,GACnCG,EAAMH,EAAiB,GACvBoR,EAAIpR,EAAiB,GAEzB,SAASqR,EAAO3J,EAAG/G,EAAOkH,EAAOyJ,GAC/B,SAAS3H,IACP,GAAI9B,EAAMwB,OAAS1I,EAAM0I,MACvB,OAAO3B,EAAE,MAAO,CACd,MAASvH,EAAI,UACZ,CAAC0H,EAAMwB,MAAQxB,EAAMwB,QAAU1I,EAAM0I,QAI5C,SAASkI,IACP,GAAK5Q,EAAM6Q,WAaX,OAAO9J,EAAE,MAAO,CACd,MAASvH,EAAI,UACb,MAAS,CACP,KAAQ,SACR,SAAY,KAEd,GAAM,CACJ,MAASsR,IAEV,CAAC5J,EAAM6J,OAAS7J,EAAM6J,SAAW/Q,EAAMgR,YAAcP,EAAE,YAlB1D,SAASK,IACH5J,EAAM6J,SAIV,eAAKJ,EAAK,QAAS,IACnB,eAAKA,EAAK,YAed,IAAIM,EAAY,CACd1J,MAAOoJ,EAAIhP,KAAK4F,MAChBE,GAAI,eAAS,GAAIkJ,EAAIhO,UAAW,CAC9BI,SAAU,SAAkB8C,GAEJ,KAAlBA,EAAMO,UACR,eAAeP,GACf,eAAK8K,EAAK,SAAU3Q,EAAMzB,QAG5B,eAAKoS,EAAK,WAAY9K,OAIxBqL,EAAc,eAAQP,GAE1B,OADAO,EAAY3J,WAAQ4J,EACbpK,EAAE,MAAO,IAAgB,CAAC,CAC/B,MAASvH,EAAI,CACX,cAAeQ,EAAM6Q,aAEvB,MAAS,CACPO,WAAYpR,EAAMoR,aAEnBF,IAAe,CAAe,MAAdhK,EAAMmK,UAAe,EAASnK,EAAMmK,OAAQtK,EAAE,MAAO,CACtE,MAASvH,EAAI,UAAWQ,EAAMsR,QAC7B,CAACtI,IAASjC,EAAE,OAAO,IAAe,CAAC,CACpC,MAAS,CACP,KAAQ,SACR,QAAU,EACV,MAAS/G,EAAMzB,MACf,SAAYyB,EAAMW,SAClB,UAAaX,EAAMY,UACnB,UAAaZ,EAAMa,WAErB,YAAe,CACb,YAAaqG,EAAM,aACnB,aAAcA,EAAM,gBAErB+J,OAAgBL,MAGrBF,EAAO1Q,MAAQ,CACbzB,MAAO2B,OACPwI,MAAOxI,OACPU,UAAWV,OACX8Q,WAAY9Q,OACZ2Q,WAAYvQ,QACZ8Q,WAAYlR,OACZoR,MAAO,CACL5P,KAAMxB,OACNH,QAAS,UAEXc,UAAW,CACTa,KAAMpB,QACNP,SAAS,GAEXY,SAAU,CACRe,KAAMxB,OACNH,QAAS,WAGE,OAAAR,EAAA,I,kCC/Gf,yBAA+lB,EAAG,G,mBCAlmBgS,EAAOC,QAAU","file":"www/js/chunk-5fcf7455.8ed0dd42.js","sourcesContent":["export function formatNumber(value, allowDot) {\n  if (allowDot) {\n    var dotIndex = value.indexOf('.');\n\n    if (dotIndex > -1) {\n      value = value.slice(0, dotIndex + 1) + value.slice(dotIndex).replace(/\\./g, '');\n    }\n  } else {\n    value = value.split('.')[0];\n  }\n\n  var regExp = allowDot ? /[^0-9.]/g : /\\D/g;\n  return value.replace(regExp, '');\n}","import { isServer } from '..';\nexport function isAndroid() {\n  /* istanbul ignore next */\n  return isServer ? false : /android/.test(navigator.userAgent.toLowerCase());\n}\nexport function isIOS() {\n  /* istanbul ignore next */\n  return isServer ? false : /ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());\n}","/**\n * Hack for iOS12 page scroll\n * https://developers.weixin.qq.com/community/develop/doc/00044ae90742f8c82fb78fcae56800\n */\nimport { isIOS as checkIsIOS } from '../validate/system';\nimport { getRootScrollTop, setRootScrollTop } from './scroll';\nvar isIOS = checkIsIOS();\n/* istanbul ignore next */\n\nexport function resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { formatNumber } from './utils';\nimport { preventDefault } from '../utils/dom/event';\nimport { resetScroll } from '../utils/dom/reset-scroll';\nimport { createNamespace, isObject, isDef, addUnit, isPromise, isFunction } from '../utils'; // Components\n\nimport Icon from '../icon';\nimport Cell from '../cell';\nimport { cellProps } from '../cell/shared';\n\nvar _createNamespace = createNamespace('field'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  provide: function provide() {\n    return {\n      vanField: this\n    };\n  },\n  inject: {\n    vanForm: {\n      default: null\n    }\n  },\n  props: _extends({}, cellProps, {\n    name: String,\n    rules: Array,\n    error: Boolean,\n    disabled: Boolean,\n    readonly: Boolean,\n    autosize: [Boolean, Object],\n    leftIcon: String,\n    rightIcon: String,\n    clearable: Boolean,\n    formatter: Function,\n    maxlength: [Number, String],\n    labelWidth: [Number, String],\n    labelClass: null,\n    labelAlign: String,\n    inputAlign: String,\n    placeholder: String,\n    errorMessage: String,\n    errorMessageAlign: String,\n    showWordLimit: Boolean,\n    type: {\n      type: String,\n      default: 'text'\n    }\n  }),\n  data: function data() {\n    return {\n      focused: false,\n      validateMessage: ''\n    };\n  },\n  watch: {\n    value: function value() {\n      this.resetValidation();\n      this.validateWithTrigger('onChange');\n      this.$nextTick(this.adjustSize);\n    }\n  },\n  mounted: function mounted() {\n    this.format();\n    this.$nextTick(this.adjustSize);\n\n    if (this.vanForm) {\n      this.vanForm.addField(this);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.vanForm) {\n      this.vanForm.removeField(this);\n    }\n  },\n  computed: {\n    showClear: function showClear() {\n      return this.clearable && this.focused && this.value !== '' && isDef(this.value) && !this.readonly;\n    },\n    showError: function showError() {\n      if (this.vanForm && this.vanForm.showError && this.validateMessage) {\n        return true;\n      }\n\n      return this.error;\n    },\n    listeners: function listeners() {\n      var listeners = _extends({}, this.$listeners, {\n        input: this.onInput,\n        keypress: this.onKeypress,\n        focus: this.onFocus,\n        blur: this.onBlur\n      });\n\n      delete listeners.click;\n      return listeners;\n    },\n    labelStyle: function labelStyle() {\n      var labelWidth = this.getProp('labelWidth');\n\n      if (labelWidth) {\n        return {\n          width: addUnit(labelWidth)\n        };\n      }\n    },\n    formValue: function formValue() {\n      if (this.children && (this.$scopedSlots.input || this.$slots.input)) {\n        return this.children.value;\n      }\n\n      return this.value;\n    }\n  },\n  methods: {\n    // @exposed-api\n    focus: function focus() {\n      if (this.$refs.input) {\n        this.$refs.input.focus();\n      }\n    },\n    // @exposed-api\n    blur: function blur() {\n      if (this.$refs.input) {\n        this.$refs.input.blur();\n      }\n    },\n    runValidator: function runValidator(value, rule) {\n      return new Promise(function (resolve) {\n        var returnVal = rule.validator(value, rule);\n\n        if (isPromise(returnVal)) {\n          return returnVal.then(resolve);\n        }\n\n        resolve(returnVal);\n      });\n    },\n    isEmptyValue: function isEmptyValue(value) {\n      if (Array.isArray(value)) {\n        return !value.length;\n      }\n\n      return !value;\n    },\n    runSyncRule: function runSyncRule(value, rule) {\n      if (rule.required && this.isEmptyValue(value)) {\n        return false;\n      }\n\n      if (rule.pattern && !rule.pattern.test(value)) {\n        return false;\n      }\n\n      return true;\n    },\n    getRuleMessage: function getRuleMessage(value, rule) {\n      var message = rule.message;\n\n      if (isFunction(message)) {\n        return message(value, rule);\n      }\n\n      return message;\n    },\n    runRules: function runRules(rules) {\n      var _this = this;\n\n      return rules.reduce(function (promise, rule) {\n        return promise.then(function () {\n          if (_this.validateMessage) {\n            return;\n          }\n\n          var value = _this.formValue;\n\n          if (rule.formatter) {\n            value = rule.formatter(value, rule);\n          }\n\n          if (!_this.runSyncRule(value, rule)) {\n            _this.validateMessage = _this.getRuleMessage(value, rule);\n            return;\n          }\n\n          if (rule.validator) {\n            return _this.runValidator(value, rule).then(function (result) {\n              if (result === false) {\n                _this.validateMessage = _this.getRuleMessage(value, rule);\n              }\n            });\n          }\n        });\n      }, Promise.resolve());\n    },\n    validate: function validate(rules) {\n      var _this2 = this;\n\n      if (rules === void 0) {\n        rules = this.rules;\n      }\n\n      return new Promise(function (resolve) {\n        if (!rules) {\n          resolve();\n        }\n\n        _this2.runRules(rules).then(function () {\n          if (_this2.validateMessage) {\n            resolve({\n              name: _this2.name,\n              message: _this2.validateMessage\n            });\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateWithTrigger: function validateWithTrigger(trigger) {\n      if (this.vanForm && this.rules) {\n        var defaultTrigger = this.vanForm.validateTrigger === trigger;\n        var rules = this.rules.filter(function (rule) {\n          if (rule.trigger) {\n            return rule.trigger === trigger;\n          }\n\n          return defaultTrigger;\n        });\n        this.validate(rules);\n      }\n    },\n    resetValidation: function resetValidation() {\n      if (this.validateMessage) {\n        this.validateMessage = '';\n      }\n    },\n    format: function format(target) {\n      if (target === void 0) {\n        target = this.$refs.input;\n      }\n\n      if (!target) {\n        return;\n      }\n\n      var _target = target,\n          value = _target.value;\n      var maxlength = this.maxlength; // native maxlength not work when type is number\n\n      if (isDef(maxlength) && value.length > maxlength) {\n        value = value.slice(0, maxlength);\n        target.value = value;\n      }\n\n      if (this.type === 'number' || this.type === 'digit') {\n        var originValue = value;\n        var allowDot = this.type === 'number';\n        value = formatNumber(value, allowDot);\n\n        if (value !== originValue) {\n          target.value = value;\n        }\n      }\n\n      if (this.formatter) {\n        var _originValue = value;\n        value = this.formatter(value);\n\n        if (value !== _originValue) {\n          target.value = value;\n        }\n      }\n\n      return value;\n    },\n    onInput: function onInput(event) {\n      // not update v-model when composing\n      if (event.target.composing) {\n        return;\n      }\n\n      this.$emit('input', this.format(event.target));\n    },\n    onFocus: function onFocus(event) {\n      this.focused = true;\n      this.$emit('focus', event); // readonly not work in lagacy mobile safari\n\n      /* istanbul ignore if */\n\n      if (this.readonly) {\n        this.blur();\n      }\n    },\n    onBlur: function onBlur(event) {\n      this.focused = false;\n      this.$emit('blur', event);\n      this.validateWithTrigger('onBlur');\n      resetScroll();\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    onClickLeftIcon: function onClickLeftIcon(event) {\n      this.$emit('click-left-icon', event);\n    },\n    onClickRightIcon: function onClickRightIcon(event) {\n      this.$emit('click-right-icon', event);\n    },\n    onClear: function onClear(event) {\n      preventDefault(event);\n      this.$emit('input', '');\n      this.$emit('clear', event);\n    },\n    onKeypress: function onKeypress(event) {\n      // trigger blur after click keyboard search button\n\n      /* istanbul ignore next */\n      if (this.type === 'search' && event.keyCode === 13) {\n        this.blur();\n      }\n\n      this.$emit('keypress', event);\n    },\n    adjustSize: function adjustSize() {\n      var input = this.$refs.input;\n\n      if (!(this.type === 'textarea' && this.autosize) || !input) {\n        return;\n      }\n\n      input.style.height = 'auto';\n      var height = input.scrollHeight;\n\n      if (isObject(this.autosize)) {\n        var _this$autosize = this.autosize,\n            maxHeight = _this$autosize.maxHeight,\n            minHeight = _this$autosize.minHeight;\n\n        if (maxHeight) {\n          height = Math.min(height, maxHeight);\n        }\n\n        if (minHeight) {\n          height = Math.max(height, minHeight);\n        }\n      }\n\n      if (height) {\n        input.style.height = height + 'px';\n      }\n    },\n    genInput: function genInput() {\n      var h = this.$createElement;\n      var type = this.type;\n      var inputSlot = this.slots('input');\n      var inputAlign = this.getProp('inputAlign');\n\n      if (inputSlot) {\n        return h(\"div\", {\n          \"class\": bem('control', [inputAlign, 'custom'])\n        }, [inputSlot]);\n      }\n\n      var inputProps = {\n        ref: 'input',\n        class: bem('control', inputAlign),\n        domProps: {\n          value: this.value\n        },\n        attrs: _extends({}, this.$attrs, {\n          name: this.name,\n          disabled: this.disabled,\n          readonly: this.readonly,\n          placeholder: this.placeholder\n        }),\n        on: this.listeners,\n        // add model directive to skip IME composition\n        directives: [{\n          name: 'model',\n          value: this.value\n        }]\n      };\n\n      if (type === 'textarea') {\n        return h(\"textarea\", _mergeJSXProps([{}, inputProps]));\n      }\n\n      var inputType = type;\n      var inputMode; // type=\"number\" is weired in iOS, and can't prevent dot in Android\n      // so use inputmode to set keyboard in mordern browers\n\n      if (type === 'number') {\n        inputType = 'text';\n        inputMode = 'decimal';\n      }\n\n      if (type === 'digit') {\n        inputType = 'tel';\n        inputMode = 'numeric';\n      }\n\n      return h(\"input\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"type\": inputType,\n          \"inputmode\": inputMode\n        }\n      }, inputProps]));\n    },\n    genLeftIcon: function genLeftIcon() {\n      var h = this.$createElement;\n      var showLeftIcon = this.slots('left-icon') || this.leftIcon;\n\n      if (showLeftIcon) {\n        return h(\"div\", {\n          \"class\": bem('left-icon'),\n          \"on\": {\n            \"click\": this.onClickLeftIcon\n          }\n        }, [this.slots('left-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.leftIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genRightIcon: function genRightIcon() {\n      var h = this.$createElement;\n      var slots = this.slots;\n      var showRightIcon = slots('right-icon') || this.rightIcon;\n\n      if (showRightIcon) {\n        return h(\"div\", {\n          \"class\": bem('right-icon'),\n          \"on\": {\n            \"click\": this.onClickRightIcon\n          }\n        }, [slots('right-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.rightIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genWordLimit: function genWordLimit() {\n      var h = this.$createElement;\n\n      if (this.showWordLimit && this.maxlength) {\n        var count = this.value.length;\n        var full = count >= this.maxlength;\n        return h(\"div\", {\n          \"class\": bem('word-limit')\n        }, [h(\"span\", {\n          \"class\": bem('word-num', {\n            full: full\n          })\n        }, [count]), \"/\", this.maxlength]);\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n\n      if (this.vanForm && this.vanForm.showErrorMessage === false) {\n        return;\n      }\n\n      var message = this.errorMessage || this.validateMessage;\n\n      if (message) {\n        var errorMessageAlign = this.getProp('errorMessageAlign');\n        return h(\"div\", {\n          \"class\": bem('error-message', errorMessageAlign)\n        }, [message]);\n      }\n    },\n    getProp: function getProp(key) {\n      if (isDef(this[key])) {\n        return this[key];\n      }\n\n      if (this.vanForm && isDef(this.vanForm[key])) {\n        return this.vanForm[key];\n      }\n    },\n    genLabel: function genLabel() {\n      var h = this.$createElement;\n      var colon = this.getProp('colon') ? ':' : '';\n\n      if (this.slots('label')) {\n        return [this.slots('label'), colon];\n      }\n\n      if (this.label) {\n        return h(\"span\", [this.label + colon]);\n      }\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var slots = this.slots;\n    var labelAlign = this.getProp('labelAlign');\n    var scopedSlots = {\n      icon: this.genLeftIcon\n    };\n    var Label = this.genLabel();\n\n    if (Label) {\n      scopedSlots.title = function () {\n        return Label;\n      };\n    }\n\n    return h(Cell, {\n      \"attrs\": {\n        \"icon\": this.leftIcon,\n        \"size\": this.size,\n        \"center\": this.center,\n        \"border\": this.border,\n        \"isLink\": this.isLink,\n        \"required\": this.required,\n        \"clickable\": this.clickable,\n        \"titleStyle\": this.labelStyle,\n        \"valueClass\": bem('value'),\n        \"titleClass\": [bem('label', labelAlign), this.labelClass],\n        \"arrowDirection\": this.arrowDirection\n      },\n      \"scopedSlots\": scopedSlots,\n      \"class\": bem((_bem = {\n        error: this.showError\n      }, _bem[\"label-\" + labelAlign] = labelAlign, _bem['min-height'] = this.type === 'textarea' && !this.autosize, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [h(\"div\", {\n      \"class\": bem('body')\n    }, [this.genInput(), this.showClear && h(Icon, {\n      \"attrs\": {\n        \"name\": \"clear\"\n      },\n      \"class\": bem('clear'),\n      \"on\": {\n        \"touchstart\": this.onClear\n      }\n    }), this.genRightIcon(), slots('button') && h(\"div\", {\n      \"class\": bem('button')\n    }, [slots('button')])]), this.genWordLimit(), this.genMessage()]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"record-box\"},[_c('div',{staticStyle:{\"height\":\"1.22667rem\"}},[_c('navigation-bar',{attrs:{\"pageName\":_vm.pageName},on:{\"onLeftClick\":_vm.goBack}},[_vm._t(\"right\",[_c('div',{staticClass:\"nav-right\",on:{\"click\":function($event){_vm.timePicker=true}}},[_c('div',[_vm._v(_vm._s(this.visitorYearMonth))])])],{\"slot\":\"nav-right\"})],2)],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.timePicker),callback:function ($$v) {_vm.timePicker=$$v},expression:\"timePicker\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"year-month\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"cancel\":function($event){_vm.timePicker = false},\"confirm\":_vm.onConfirmTime}})],1),_c('div',{staticStyle:{\"height\":\"1.44rem\"}},[_c('div',{staticClass:\"search-box\"},[_c('van-search',{attrs:{\"placeholder\":\"请输入姓名\"},on:{\"search\":_vm.onSearch},model:{value:(_vm.visitorName),callback:function ($$v) {_vm.visitorName=$$v},expression:\"visitorName\"}}),_c('span',{staticClass:\"search-btn\",on:{\"click\":function($event){return _vm.onSearch(_vm.visitorName)}}},[_vm._v(\"搜索\")])],1)]),_c('div',{staticStyle:{\"overflow\":\"scroll\",\"height\":\"80%\"}},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isPulling),callback:function ($$v) {_vm.isPulling=$$v},expression:\"isPulling\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recordList.length>0),expression:\"recordList.length>0\"}],staticClass:\"record\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"—— 我是有底线的 ——\",\"offset\":10},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.recordList),function(item,index){return _c('div',{key:index,staticClass:\"record-item\",on:{\"touchstart\":function($event){return _vm.gotouchstart(item.id, item.status, $event)},\"touchmove\":function($event){return _vm.gotouchmove($event)},\"touchend\":function($event){return _vm.gotouchend($event)}}},[_c('div',{staticClass:\"top\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.guest)+\" \"+_vm._s(item.start_time))]),_c('span',{staticClass:\"state\",class:item.status==1||item.status==3?'blue':''},[_vm._v(_vm._s(item.status==0?'已取消':item.status==2?'已过期':'已预约'))])]),_c('div',{staticClass:\"mid\"},[_c('div',[_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"访问地址\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.door_num))])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"访客手机号\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.guest_phone))])]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"失效时间\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.end_time))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.detail),expression:\"item.detail\"}]},[_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"是否人脸通行\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.face==0?\"否\":\"是\"))])]),_c('div',{staticClass:\"item car-item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"是否有车辆\")]),(item.book_type==2)?_c('span',{staticClass:\"green-channel\"},[_vm._v(\"绿色通道\")]):_vm._e(),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.plate_num?\"是\":\"否\"))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.plate_num),expression:\"item.plate_num\"}],staticClass:\"item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"车牌号\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(item.plate_num))])])]),_c('div',{staticClass:\"item arrow\",class:item.detail?'':'up',on:{\"click\":function($event){$event.stopPropagation();return _vm.showDetail(index)}}})]),_c('div',{staticClass:\"bottom\"},[(item.status==1)?_c('button',{staticClass:\"cancle-btn btn\",on:{\"click\":function($event){return _vm.cancelRegister(item.id)}}},[_vm._v(\"取消预约\")]):_vm._e(),_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.againRegister(item)}}},[_vm._v(\"再次预约\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:((item.status==1 || item.status==3) && item.face==0),expression:\"(item.status==1 || item.status==3) && item.face==0\"}],staticClass:\"btn\",on:{\"click\":function($event){return _vm.viewQRcode(item.qrOrderCode)}}},[_vm._v(\"查看二维码\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.status==1 || item.status==3),expression:\"item.status==1 || item.status==3\"}],staticClass:\"btn\",on:{\"click\":_vm.viewMap}},[_vm._v(\"查看地图\")])])])}),0)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recordList.length==0),expression:\"recordList.length==0\"}],staticClass:\"no-list\"},[_vm._v(\"—— 暂无数据 ——\")])])],1),_c('van-dialog',{attrs:{\"class-name\":\"cancel-dialog\",\"confirm-button-color\":\"#00cccc\",\"showCancelButton\":\"\"},on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.showConfirm),callback:function ($$v) {_vm.showConfirm=$$v},expression:\"showConfirm\"}},[_c('p',[_vm._v(\"确定要取消此次预约吗？\")]),_c('p',[_vm._v(\"取消后访客及车辆无法进入小区\")])]),_c('van-dialog',{attrs:{\"class-name\":\"cancel-dialog\",\"confirm-button-color\":\"#00cccc\",\"showCancelButton\":\"\"},on:{\"confirm\":_vm.onDeleteConfirm},model:{value:(_vm.showDeleteConfirm),callback:function ($$v) {_vm.showDeleteConfirm=$$v},expression:\"showDeleteConfirm\"}},[_c('p',[_vm._v(\"确定要删除此预约记录吗？\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCode),expression:\"showCode\"}],staticClass:\"qrcode-popup-container\",staticStyle:{\"background\":\"rgba(0, 0, 0,0.5)\"}},[_c('div',{staticClass:\"qrcode-popup-body\"},[_c('img',{staticClass:\"popcloseBtn\",attrs:{\"src\":_vm.closeImg},on:{\"click\":function($event){return _vm.closePopup()}}}),_c('div',{staticClass:\"QRCode\"},[_c('canvas',{ref:\"QrcodeImg\",staticClass:\"imgCode\"})])])]),_c('van-image-preview',{attrs:{\"images\":_vm.mapImg,\"showIndex\":false},model:{value:(_vm.showMap),callback:function ($$v) {_vm.showMap=$$v},expression:\"showMap\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Reservation.vue -->\n<template>\n  <div class=\"record-box\">\n    <div style=\"height:1.22667rem\">\n<!--      <van-nav-bar-->\n<!--        left-arrow-->\n<!--        @click-left=\"goBack\"-->\n<!--        title=\"访客预约\"-->\n<!--        right-text=\"筛选\"-->\n<!--        @click-right=\"timePicker=true\"-->\n<!--      />-->\n\n      <navigation-bar :pageName=\"pageName\" @onLeftClick=\"goBack\">\n        <slot slot=\"nav-right\" name=\"right\" >\n          <div class=\"nav-right\" @click=\"timePicker=true\">\n            <div >{{this.visitorYearMonth}}</div>\n          </div>\n        </slot>\n      </navigation-bar>\n\n    </div>\n    <van-popup v-model=\"timePicker\" position=\"bottom\">\n      <van-datetime-picker\n        type=\"year-month\"\n        :min-date=\"minDate\"\n        :max-date=\"maxDate\"\n        @cancel=\"timePicker = false\"\n        @confirm=\"onConfirmTime\"\n      />\n    </van-popup>\n    <div style=\"height:1.44rem\">\n      <div class=\"search-box\">\n        <van-search v-model=\"visitorName\" placeholder=\"请输入姓名\" @search=\"onSearch\" />\n        <span class=\"search-btn\" @click=\"onSearch(visitorName)\">搜索</span>\n      </div>\n    </div>\n    <div style=\"overflow: scroll; height: 80%\">\n      <van-pull-refresh v-model=\"isPulling\" @refresh=\"onRefresh\">\n        <div class=\"record\" v-show=\"recordList.length>0\">\n          <van-list\n            v-model=\"loading\"\n            :finished=\"finished\"\n            @load=\"onLoad\"\n            finished-text=\"—— 我是有底线的 ——\"\n            :offset=\"10\"\n          >\n            <div\n              class=\"record-item\"\n              v-for=\"(item,index) in recordList\"\n              :key=\"index\"\n              @touchstart=\"gotouchstart(item.id, item.status, $event)\"\n              @touchmove=\"gotouchmove($event)\"\n              @touchend=\"gotouchend($event)\"\n            >\n              <div class=\"top\">\n                <span class=\"name\">{{item.guest}} {{item.start_time}}</span>\n                <!-- <span class=\"time\">{{item.startTime}}</span> -->\n                <!-- <span\n                  class=\"state\"\n                  :class=\"item.status==1?'blue':''\"\n                >{{item.status==1?'已预约':item.status==2?'已取消':'已过期'}}</span>-->\n                <span\n                  class=\"state\"\n                  :class=\"item.status==1||item.status==3?'blue':''\"\n                >{{item.status==0?'已取消':item.status==2?'已过期':'已预约'}}</span>\n              </div>\n              <div class=\"mid\">\n                <div>\n                  <div class=\"item\">\n                    <span class=\"title\">访问地址</span>\n                    <span class=\"value\">{{item.door_num}}</span>\n                  </div>\n                  <div class=\"item\">\n                    <span class=\"title\">访客手机号</span>\n                    <span class=\"value\">{{item.guest_phone}}</span>\n                  </div>\n                  <div class=\"item\">\n                    <span class=\"title\">失效时间</span>\n                    <span class=\"value\">{{item.end_time}}</span>\n                  </div>\n                </div>\n                <div v-show=\"item.detail\">\n                  <div class=\"item\">\n                    <span class=\"title\">是否人脸通行</span>\n                    <span class=\"value\">{{item.face==0?\"否\":\"是\"}}</span>\n                  </div>\n                  <div class=\"item car-item\">\n                    <span class=\"title\">是否有车辆</span>\n                    <span class=\"green-channel\" v-if=\"item.book_type==2\">绿色通道</span>\n                    <span class=\"value\">{{item.plate_num?\"是\":\"否\"}}</span>\n                  </div>\n                  <div class=\"item\" v-show=\"item.plate_num\">\n                    <span class=\"title\">车牌号</span>\n                    <span class=\"value\">{{item.plate_num}}</span>\n                  </div>\n                </div>\n                <div class=\"item arrow\" :class=\"item.detail?'':'up'\" @click.stop=\"showDetail(index)\"></div>\n              </div>\n              <div class=\"bottom\">\n                <button\n                  class=\"cancle-btn btn\"\n                  v-if=\"item.status==1\"\n                  @click=\"cancelRegister(item.id)\"\n                >取消预约</button>\n                <button class=\"btn\" @click=\"againRegister(item)\">再次预约</button>\n                <button class=\"btn\" v-show=\"(item.status==1 || item.status==3) && item.face==0\" @click=\"viewQRcode(item.qrOrderCode)\">查看二维码</button>\n                <button class=\"btn\" v-show=\"item.status==1 || item.status==3\" @click=\"viewMap\">查看地图</button>\n\n              </div>\n            </div>\n          </van-list>\n        </div>\n        <div class=\"no-list\" v-show=\"recordList.length==0\">—— 暂无数据 ——</div>\n      </van-pull-refresh>\n    </div>\n\n    <van-dialog\n      class-name=\"cancel-dialog\"\n      v-model=\"showConfirm\"\n      confirm-button-color=\"#00cccc\"\n      showCancelButton\n      @confirm=\"onConfirm\"\n    >\n      <p>确定要取消此次预约吗？</p>\n      <p>取消后访客及车辆无法进入小区</p>\n    </van-dialog>\n    <van-dialog\n      class-name=\"cancel-dialog\"\n      v-model=\"showDeleteConfirm\"\n      confirm-button-color=\"#00cccc\"\n      showCancelButton\n      @confirm=\"onDeleteConfirm\"\n    >\n      <p>确定要删除此预约记录吗？</p>\n    </van-dialog>\n\n    <!-- 查看二维码 -->\n      <div\n      v-show=\"showCode\"\n      class=\"qrcode-popup-container\"\n      style=\"background: rgba(0, 0, 0,0.5);\"\n    >\n      <div class=\"qrcode-popup-body\">\n        <img :src=\"closeImg\" class=\"popcloseBtn\" @click=\"closePopup()\" />\n        <div class=\"QRCode\">\n          <canvas ref=\"QrcodeImg\" class=\"imgCode\"></canvas>\n        </div>\n      </div>\n    </div>\n\n   <!-- 查看地图 -->\n    <!-- <van-popup v-model=\"showMap\">\n      <img :src=\"mapImg\" class=\"imgMap\" alt=\"\">\n    </van-popup> -->\n    <van-image-preview v-model=\"showMap\" :images=\"mapImg\" :showIndex=\"false\"></van-image-preview>\n  </div>\n</template>\n\n<script>\nimport { Search, ImagePreview } from \"vant\";\nimport { bookingList, unBooking, deleteBooking } from \"xt/services/register\";\nimport { store } from \"@/utils/store\";\nimport QRCode from \"qrcode\"; //引入生成二维码插件\nimport html2canvas from \"html2canvas\";\nimport { storage } from \"@/utils/store\";\nimport NavigationBar from \"../../../title/NavigationBar\";\nexport default {\n  name: \"record\",\n  components: {\n    NavigationBar,\n    [Search.name]: Search,\n    [ImagePreview.name]: ImagePreview\n  },\n  data() {\n    return {\n      pageName:\"访客预约\",\n      timePicker: false, // header-筛选\n      minDate: new Date(2020, 0),\n      maxDate: new Date(2022, 0),\n      userCode: \"\",\n      visitorName: \"\",\n      visitorYear: \"\",\n      visitorMonth: \"\",\n      showConfirm: false, // 取消预约弹窗\n      showDeleteConfirm: false, // 删除预约弹窗\n      isDisabled: false,\n\n      cancelId: \"\",\n      deleteId: \"\",\n\n      loading: false,\n      isPulling: false, // 下拉刷新\n      finished: false, // 列表数据是否全部加载完\n      pageNum: 1,\n      total: 0,\n\n      recordList: [],\n\n      //查看二维码和地图\n      closeImg: require(\"../../assets/imgs/visitorRegister/icon_popup_close.png\"),\n      qrCanvas:'',\n      showCode:false,\n      mapImg:[],\n      showMap:false\n    };\n  },\n  computed: {\n    visitorYearMonth:function () {\n      if (this.visitorMonth.toString().length>0){\n        return this.visitorYear.toString()+\"-\"+this.visitorMonth.toString();\n      } else {\n        return \"筛选\";\n      }\n    }\n  },\n  mounted() {\n    this.userCode = store.get(\"custNews\").USER_CODE;\n    this.getRecordList();\n  },\n  methods: {\n    goBack() {\n      this.$router.push({ path: \"/\" });\n    },\n    // 时间选择-确认\n    onConfirmTime(val) {\n      this.visitorYear = val.getFullYear();\n      this.visitorMonth = val.getMonth() + 1;\n      this.pageNum = 1;\n      this.recordList = [];\n      this.getRecordList();\n      this.timePicker = false;\n    },\n    onSearch(val) {\n      this.visitorName = val;\n      this.pageNum = 1;\n      this.recordList = [];\n      this.getRecordList();\n    },\n    getRecordList() {\n      this.loading = true;\n      let that = this;\n      let data = {\n        stationId: 1,\n        source: 2,\n        booker: \"物业\",\n        // userCode: this.userCode,\n        pageNum: this.pageNum,\n        pageSize: 5,\n        name: this.visitorName,\n        year: this.visitorYear,\n        month: this.visitorMonth\n      };\n      bookingList(data)\n        .then(res => {\n          if (res.code == 200) {\n            let list = that.recordList.concat(res.data.list || []);\n            list.forEach(item => {\n              item.detail = false;\n            });\n            that.recordList = list;\n            that.total = res.data.total;\n          } else {\n            that.$toast(res.message);\n          }\n          that.loading = false;\n          // that.visitorYear = \"\"; // 清空一下选择的日期\n          // that.visitorMonth = \"\";\n          that.finished = false;\n          if (that.recordList.length >= that.total) {\n            that.finished = true; //此时不再执行onLoad事件\n          }\n        })\n        .catch(err => {\n          that.loading = false;\n          that.total = 0;\n          that.visitorYear = \"\";\n          that.visitorMonth = \"\";\n          that.$toast(err);\n        });\n    },\n    //下拉刷新\n    onRefresh() {\n      // if (this.loading) {\n      //   return;\n      // }\n      this.visitorYear = \"\"; // 清空一下选择的日期\n      this.visitorMonth = \"\";\n      setTimeout(() => {\n        this.isPulling = false;\n        this.finished = false;\n        this.pageNum = 1;\n        this.recordList = [];\n        console.log(\"下拉刷新\");\n        this.getRecordList();\n      }, 1000);\n    },\n    //上拉加载\n    onLoad() {\n      // if (this.loading) {\n      //   return;\n      // }\n      this.finished = false;\n      if (this.recordList.length >= this.total) {\n        this.finished = true; //此时不再执行onLoad事件\n        return;\n      }\n      setTimeout(() => {\n        this.isPulling = false;\n        this.finished = false;\n        this.pageNum++;\n        console.log(\"上拉加载\");\n        this.getRecordList();\n      }, 500);\n    },\n    showDetail(index) {\n      this.recordList[index].detail = !this.recordList[index].detail;\n      this.$forceUpdate();\n    },\n    againRegister(item) {\n      let data = {\n        guest: item.guest,\n        guest_phone: item.guest_phone,\n        plate_num: item.plate_num,\n        // book_type: item.book_type,\n        door_num: item.door_num,\n        guest_type_name: item.guest_type_name,\n        guest_type: item.guest_type,\n        guest_type_time: item.guest_type_time,\n        roomCode: item.roomCode,\n        roomName: item.roomName\n      };\n      this.$router.push({\n        path: \"/visitorRegister/register\",\n        query: data\n      });\n    },\n    cancelRegister(index) {\n      this.showConfirm = !this.showConfirm;\n      this.cancelId = index;\n    },\n    onConfirm() {\n      this.loading = true;\n      let that = this;\n      let data = {\n        bookingid: this.cancelId\n      };\n      unBooking(data)\n        .then(res => {\n          that.loading = false;\n          that.pageNum = 1;\n          that.recordList = [];\n          that.getRecordList();\n          if (res.code !== 200) {\n            that.$toast(res.message);\n          }\n        })\n        .catch(err => {\n          that.loading = false;\n          that.pageNum = 1;\n          that.recordList = [];\n          that.getRecordList();\n          that.$toast(err);\n        });\n    },\n    // 删除该条记录\n    gotouchstart(val, status, e) {\n      // console.log(\"--tst\", e)\n      let ty = e.touches[0].clientY;\n      // console.log(\"---touchStart: \"+ty );\n      if (status != 2) {\n        console.log(\"不是已过期状态不能删\");\n        return;\n      }\n      let that = this;\n      this.deleteId = val;\n      clearTimeout(this.timeOutEvent); //清除定时器\n      this.timeOutEvent = setTimeout(function() {\n        that.showDeleteConfirm = true;\n      }, 1200); //这里设置定时\n      this.baseClientY = e.touches[0].clientY;\n    },\n    gotouchend(e) {\n      clearTimeout(this.timeOutEvent);\n    },\n    gotouchmove(e) {\n      // console.log(\"---touchMove: \"+ e.touches[0].clientY);\n      let touchY = e.touches[0].clientY;\n      let diff = Math.abs(touchY - this.baseClientY);\n      // console.log(\"---touchDiff: \"+ diff);\n      if ( diff < 10) {\n        return;\n      }\n      clearTimeout(this.timeOutEvent);\n    },\n    onDeleteConfirm() {\n      console.log(\"调删除的接口\");\n      this.loading = true;\n      let that = this;\n      let data = {\n        bookingid: this.deleteId\n      };\n      deleteBooking(data)\n        .then(res => {\n          that.loading = false;\n          that.pageNum = 1;\n          that.recordList = [];\n          that.getRecordList();\n          if (res.code !== 200) {\n            that.$toast(res.message);\n          }\n        })\n        .catch(err => {\n          that.loading = false;\n          that.pageNum = 1;\n          that.recordList = [];\n          that.getRecordList();\n          that.$toast(err);\n        });\n    },\n    viewQRcode(qrcode){\n      console.log(qrcode);\n      this.showCode=true;\n      this.qrCanvas = this.$refs.QrcodeImg;\n      QRCode.toCanvas(this.qrCanvas, qrcode);\n    },\n    closePopup(){\n      this.showCode=false;\n    },\n    viewMap(){\n      this.showMap=true;\n      this.mapImg=[];\n      this.mapImg.push(storage.getStorage(\"xtBaseUrl\") + \"/map_xq.jpg\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../assets/css/dialog.css\";\n$baseColor: #00cccc;\n$grey: #f5f5f7;\n$fontColor: #333;\n$borderColor: #e5e5e5;\n$shadow: rgba(219, 219, 219, 0.5);\n.record-box {\n  position: relative;\n  height: 100%;\n  overflow: hidden;\n}\n.nav-right {\n  display: flex;\n  align-items: center;\n  color: #fff;\n  font-size: 16px;\n  padding-right: 6px;\n}\n.search-box {\n  position: fixed;\n  width: 100%;\n  top: 1.2rem;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  z-index: 9;\n  .van-search {\n    width: 82%;\n  }\n  .search-btn {\n    display: inline-block;\n    width: 12%;\n    height: 100%;\n    text-align: center;\n    padding: 0.1rem;\n    font-size: 0.36rem;\n    color: $baseColor;\n    border: 1px solid $baseColor;\n    outline: none;\n    /*border-radius: 0.5rem;*/\n  }\n}\n.record {\n  padding: 0.4rem;\n  color: $fontColor;\n  background-color: #f5f5f7;\n  font-size: 0.4rem;\n  // margin: 1.2rem 0 1rem 0;\n  margin-bottom: 1rem;\n  .record-item {\n    background-color: #fff;\n    margin-bottom: 0.5rem;\n    border-radius: 0.2rem;\n    box-shadow: 0.2rem 0.2rem 0.2rem $shadow;\n    .top {\n      padding: 0.3rem 0.5rem;\n      display: flex;\n      justify-content: space-between;\n      // .name {\n      //   width: 20%;\n      // }\n      // .time {\n      //   width: 55%;\n      // }\n      .state {\n        // width: 20%;\n        text-align: right;\n        color: #9a9a9a;\n        font-size: 0.32rem;\n      }\n      .blue {\n        color: $baseColor;\n      }\n    }\n    .mid {\n      padding: 0.5rem;\n      border-top: 1px solid $borderColor;\n      border-bottom: 1px solid $borderColor;\n      .item {\n        display: flex;\n        margin-bottom: 0.4rem;\n        .title {\n          width: 35%;\n          color: #4a4a4a;\n        }\n        .value {\n          width: 65%;\n          text-align: right;\n          color: $fontColor;\n        }\n      }\n      .car-item {\n        position: relative;\n        .green-channel {\n          position: absolute;\n          right: 8%;\n          background-color: #7ed321;\n          color: #fff;\n          border-radius: 1rem;\n          font-size: 0.32rem;\n          padding: 0.1rem 0.2rem;\n        }\n      }\n      .arrow {\n        height: 0.25rem;\n        background: url(\"~xt/assets/imgs/visitorRegister/down.png\") no-repeat;\n        background-size: contain;\n        background-position: center;\n        margin-bottom: 0;\n      }\n      .up {\n        transform: rotate(180deg);\n      }\n    }\n    .bottom {\n      padding: 0.4rem;\n      display: flex;\n      justify-content: flex-end;\n      flex-wrap: wrap;\n      .btn {\n        width: 2.5rem;\n        padding: 0.12rem 0;\n        margin-left: 0.2rem;\n        margin-bottom:0.2rem;\n        font-size: 0.4rem;\n        color: $baseColor;\n        background-color: #fff;\n        border: 1px solid $baseColor;\n        outline: none;\n        border-radius: 0.5rem;\n      }\n      .cancle-btn {\n        color: #464646;\n        border: 1px solid #bdbdbd;\n      }\n    }\n  }\n}\n.no-list {\n  font-size: 0.4rem;\n  text-align: center;\n  margin: 1.2rem 0 1rem 0;\n  padding-top: 3.5rem;\n  color: #9c9c9c;\n}\n/deep/ .van-pull-refresh {\n  min-height: 100%;\n}\n/deep/ .van-pull-refresh__track {\n  min-height: 100%;\n}\n.van-image-preview {\n    background: #666666!important;\n  }\n.cancel-dialog {\n  text-align: center;\n  padding-top: 0.5rem;\n  color: $fontColor;\n}\n\n.qrcode-popup-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  /* display: none; */\n  -webkit-box-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  align-items: center;\n  z-index: 12;\n}\n.qrcode-popup-body {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 90%;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n  text-align: center;\n  background-color: white;\n}\n.popcloseBtn {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: -10px;\n  top: -10px;\n  z-index: 100;\n}\n.qrcode-popup-body .imgCode {\n  height: 9rem !important;\n  width:100% !important;\n  border-radius: 10px;\n}\n.imgMap{\n  width:9rem !important;\n  height:auto;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Record.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Record.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Record.vue?vue&type=template&id=63af67c1&scoped=true&\"\nimport script from \"./Record.vue?vue&type=script&lang=js&\"\nexport * from \"./Record.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Record.vue?vue&type=style&index=0&id=63af67c1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63af67c1\",\n  null\n  \n)\n\nexport default component.exports","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit, emit } from '../utils/functional';\nimport { preventDefault } from '../utils/dom/event'; // Components\n\nimport Field from '../field'; // Types\n\nvar _createNamespace = createNamespace('search'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction Search(h, props, slots, ctx) {\n  function Label() {\n    if (slots.label || props.label) {\n      return h(\"div\", {\n        \"class\": bem('label')\n      }, [slots.label ? slots.label() : props.label]);\n    }\n  }\n\n  function Action() {\n    if (!props.showAction) {\n      return;\n    }\n\n    function onCancel() {\n      if (slots.action) {\n        return;\n      }\n\n      emit(ctx, 'input', '');\n      emit(ctx, 'cancel');\n    }\n\n    return h(\"div\", {\n      \"class\": bem('action'),\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\"\n      },\n      \"on\": {\n        \"click\": onCancel\n      }\n    }, [slots.action ? slots.action() : props.actionText || t('cancel')]);\n  }\n\n  var fieldData = {\n    attrs: ctx.data.attrs,\n    on: _extends({}, ctx.listeners, {\n      keypress: function keypress(event) {\n        // press enter\n        if (event.keyCode === 13) {\n          preventDefault(event);\n          emit(ctx, 'search', props.value);\n        }\n\n        emit(ctx, 'keypress', event);\n      }\n    })\n  };\n  var inheritData = inherit(ctx);\n  inheritData.attrs = undefined;\n  return h(\"div\", _mergeJSXProps2([{\n    \"class\": bem({\n      'show-action': props.showAction\n    }),\n    \"style\": {\n      background: props.background\n    }\n  }, inheritData]), [slots.left == null ? void 0 : slots.left(), h(\"div\", {\n    \"class\": bem('content', props.shape)\n  }, [Label(), h(Field, _mergeJSXProps([{\n    \"attrs\": {\n      \"type\": \"search\",\n      \"border\": false,\n      \"value\": props.value,\n      \"leftIcon\": props.leftIcon,\n      \"rightIcon\": props.rightIcon,\n      \"clearable\": props.clearable\n    },\n    \"scopedSlots\": {\n      'left-icon': slots['left-icon'],\n      'right-icon': slots['right-icon']\n    }\n  }, fieldData]))]), Action()]);\n}\n\nSearch.props = {\n  value: String,\n  label: String,\n  rightIcon: String,\n  actionText: String,\n  showAction: Boolean,\n  background: String,\n  shape: {\n    type: String,\n    default: 'square'\n  },\n  clearable: {\n    type: Boolean,\n    default: true\n  },\n  leftIcon: {\n    type: String,\n    default: 'search'\n  }\n};\nexport default createComponent(Search);","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Record.vue?vue&type=style&index=0&id=63af67c1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Record.vue?vue&type=style&index=0&id=63af67c1&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABJFJREFUaAXdmz1M1GAYx3sohIQQY06IaLi4EQYTZGLAxYFoNA4SN6MsJk5OxJHwsTI56iLGCWUwamIwccFBFzEyEEZP8SJ6fuRiohA5//9en6PX9vr5tvT6JH/ea/v2eZ5f37Zv+74lpym2arV6AC5PQaehQWgAKkDdhlBoFUNFlBvQOrQCreZyuX8o02WAaocuQovQTyiscV/6oK/2fadEEp3QLWgLUm30Sd+diYMiaBs0ARWhuI0xGKstEVAEGoPeQ0kbY47FBgnnOWgG2oX2yxibOeSUgsJhF/QISosxly4lkHBUgFbTQmbKgzmx+3E116Y2HLyBh6OuXvZvYwmhR9B3sj91tKZ3JsDxFHgMpRWOQH3M0ciVyzZzBMQObNkFaMi2R/pWMMcFI2dbdo6AqDUNjdtqp3cFc512Ss92DeJIsK95Dtm2OTlI0boqcjmL63HZnFMDBODYou+gk+ZKLfR7DbkOAXJXcraeolexwRfc4lZJu7Gxpi1//yq+lJcvfnzTYzCWT2PuZKhbHRCtx4fa2foWjx8vEby8s63d/VzUnpS/eNQOvvlpeUu7s/lBj8FYAWzWYNF3qQNi6SbU79fReC/v0DW7X/qkFJJwC6WP4l671BOopyIDWXTTr0EQ891rE+qprfb39xkSuWdK5Fpfv3Yh3+tv5ya1FPnkdXMc1+KOtOA5rAgEx/zOA2YCUGI86jz6YU0RHMOThUyaAF7hQhhTBakQTjB0Jr4CcQylDB2SLWHKKAlG2dcl11/YlmcLDkOR4BgkbEvGBMeUyDRMwFEuqbCgkDHCCc4oAQdlSUXpFzIBOOIMEpDjlkrNCzIhODINHMQfz7fiMPSEpEk/KR03O15Zx+0q+k76aWIF3kX5HJRvUiHyamtrmR3GDMdQZQL+xY8Oc2DVv50gE4AjxjavwUwbAStxEjq1HuNFfazzmXMlVkArHE9Llc+uPiArvIsWoRM+Kgeq4gRnftOQO6ncXc3bAgVyr1xkC3J+Tql5wXn1kwqT2SAgJx+VmRecBEoIcp2AryRo1NIvnMRJAHIlla9LvBHJk5AcjBBl7XUJr/WcE28YSwzqLGjLWf1bW5I3IPqMaMtk4ylKe1Argv+NCicRY4DUmVI/6BTydG0cdOLoE47kvBxNPyUHZaUvY31Vz5ZsSfoSYwzGCmjzBlN90In734b2BiM9PC6ZRptVwUlIdvpmSHMsqeNSkoEsusk1qIH4D9ZMGes9izOHj2j59g7t+rFC5LFQp2CEpG/GYKwANmWw6Lvo16DsjFcnAmd38gXkuwCchDgV1WrGnCcNhnru9VNU1qAC+8Q5WW6hcs7IvSHlhlNUtuBU5fqHEGdOW8GWkORlANrOPEdAEgGyCwWfU9M+T897xijgfqO0WVNA1gQkR9xeQ3tzZdyQHgv/GQkZcFSKKEYgHqW0GXNy/UbGd8I8XaFsfsolRwGAfLWagbL3MZ5AsgRgNj+ntEBm94NYC2g2P2k2Q/I3TtvUfpTu2g9aQfwsA5ZT4pw15sQq5x45Pcf+tNsQCsd/K+BDxVt0TRxCUWb/AbdnAlKETazUAAAAAElFTkSuQmCC\""],"sourceRoot":""}
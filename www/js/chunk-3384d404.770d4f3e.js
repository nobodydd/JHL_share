(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3384d404"],{2627:function(t,e,s){},4534:function(t,e,s){},"4f11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqhJREFUeAHtms1L1UEUhtX8IJUwEEGiRKggEqGNiwpx08qiaOEmMKE2QctyIfQXRGAtxJ0o1CYEEaTCRYsgqEUgRAWChIohRBpEH1TengMOHIZWwoHD3HPgZebcO8yc5x283pnframJCAfCgXAgHAgHwoFwIBwIB8KBcMChA5VKpRu9QJto2GGJdiUB3Is+oRTrdqs5mxnifrSdyHfbGWdl2pQD7CX0I4OfJq+3WdHRrEBeR38y+LvktY7KtCkFyLEMfIf8ls1qjmaV3UX3M/jf5FcdlWlTCpAN6FEG/5180GZFR7MC2YqeZfBfyE87KtOmFCDb0esMfp38pM2KjmYFsgt9QDokP+KoTJtSgOxBstM6XpG026zoaFYgzyD5G9fxlKTFUZk2pQB5Hsmnu46HJA02KzqaFcgRJP/XdYyTVMW3u1FNvdsfc7Q/NqXI7qJ7Gbx8x79ms6KjWYGsRzMZvJzuLjoq06YUIJvRQgYv5/p+mxWdzQroXAa/Qd7rrEy7coBdzQyYsFvN4czAX0H5hcYkr9U5LNemJGAvo59Ix2OSRpsVHc4K7AD6qh2gv4haHZZrUxKwp5Dc5+uQI3D5B59kKbBH0Yp2gP57dDiNKb4FthMtIR1rJCeKh0+AwLYhecSl4zNJXxpTfAvsfjSvHaD/DZ0rHj4BAivnhCmk4xfJUBpTfAusnBTlaY+OvyQ3iofXgADfRvL0R8cdPab4PuT/uy16wOvl3xal3QX2AsrvC+VpUfn3hcqEswBvIR1PSJrTmOJbYOUXIXJ/oOMlycHi4RMgsN1oWTtA/y06lMYU3wLbgd4gHR9JjhUPnwCBPYCeIx1L6f2qaCFvQrPKgXdVAa4hgd+HbiL5Bclx/V70w4FwIBwIB8KBcCAcCAfCgXBgzw78A2Wj4+ezw0gaAAAAAElFTkSuQmCC"},"52a6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commercePurchaseList"},[s("navigation-bar",{attrs:{pageName:"采购订单","right-text":"",fixed:!0},on:{onLeftClick:t.onClickLeft}}),s("div",{staticClass:"searchPanel"},[s("div",{staticClass:"searchInput",on:{click:function(e){return t.gotoSearch()}}},[s("img",{staticClass:"searchImg",attrs:{src:t.serachIcon}}),t._v("\n      搜索采购单号\n    ")])]),t.purchaseList.length<=0?s("div",{staticClass:"noMessagePanel"},[s("div",{staticClass:"noMessage"},[s("img",{staticClass:"noMessageImg",attrs:{src:t.noList}}),s("p",[t._v("暂无订单")])])]):t._e(),s("div",{staticClass:"commerce-over-box"},[t.purchaseList.length>0?s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.purchaseList,(function(e,a){return s("div",{key:a,staticClass:"card"},[s("div",{staticClass:"orderTitlePanel"},[s("span",{staticClass:"orderTitleCode"},[t._v("采购单号:"+t._s(e.billNo))]),s("span",{staticClass:"orderTime"},[t._v(t._s(e.createdTime))])]),s("div",{staticClass:"van-hairline--top"}),s("div",{staticClass:"orderInfoPanel"},[s("img",{staticClass:"orderImg",attrs:{src:t.imgDefault}}),s("div",{staticClass:"orderDetail"},[s("div",{staticClass:"orderName"},[t._v(t._s(e.recAreaCode))]),s("div",{staticClass:"orderName"},[t._v("供应商："+t._s(e.supplierName))]),s("div",{staticClass:"orderName"},[t._v("供应商电话："+t._s(e.supplierPhone))])])]),s("div",{staticClass:"dashLine"}),t._l(e.skuList,(function(e,a){return s("div",{key:a,staticClass:"pricePanel"},[s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",{staticStyle:{width:"80%"}},[s("div",{staticClass:"orderGoods"},[t._v(t._s(e.goodsName))])]),s("td",{staticStyle:{width:"20%"}},[s("div",{staticClass:"orderPrice"},[t._v("￥"+t._s(e.skuPrice))])])])]),s("table",{staticStyle:{width:"100%"}},[s("tr",[s("td",[s("div",{staticClass:"orderSpecs"},[t._v(t._s(e.attrValueContent))])]),s("td",{staticStyle:{width:"40px"}},[s("div",{staticClass:"orderGoodsNum"},[t._v("x"+t._s(e.purchaseCount))])])])])])}))],2)})),0):t._e()],1)],1)},n=[],r=s("9143"),i=s("da6f"),o=s("371c"),c=s("da6a"),u={name:"commercePurchaseList",components:{NavigationBar:c["a"]},data:function(){return{loading:!1,finished:!1,purchaseList:[],orderData:{page:1,rows:10},serachIcon:s("98e2"),noList:s("e632"),imgDefault:s("c33a"),userInfo:null,scrollTop:0}},beforeRouteLeave:function(t,e,s){this.scrollTop=document.querySelector(".commerce-over-box").scrollTop,s()},activated:function(){this.userInfo=i["b"].get("userInfo"),this.userInfo=this.userInfo?this.userInfo:i["a"].getStorage("custNews"),this.$route.params.load?(this.resetData(),this.getPurchaseList(),document.querySelector(".commerce-over-box").scrollTop=0):document.querySelector(".commerce-over-box").scrollTop=this.scrollTop},methods:{resetData:function(){this.loading=!1,this.finished=!1,this.purchaseList=[],this.orderData={page:1,rows:10},this.orderData.recAreaCode=this.userInfo.AREA_CODE},getPurchaseList:function(){var t=this,e=i["b"].get("custNews")&&i["b"].get("custNews").AREA_CODE?i["b"].get("custNews"):i["a"].getStorage("custNews");""!=this.userInfo.AREA_CODE&&void 0!=this.userInfo.AREA_CODE||(o["a"].i("area code empty, reset first."),this.userInfo=e&&e.AREA_CODE?e:i["a"].getStorage("custNews"),this.orderData.recAreaCode=this.userInfo.AREA_CODE),this.userInfo.AREA_CODE!=e.AREA_CODE&&(o["a"].i("area code changed, reset first."),this.userInfo=e&&e.AREA_CODE?e:i["a"].getStorage("custNews"),this.orderData.recAreaCode=this.userInfo.AREA_CODE),this.loading=!0,Object(r["d"])(this.orderData).then((function(e){t.loading=!1,"0"==e.resultCode?(t.purchaseList=t.purchaseList.concat(e.data),e.total>t.orderData.page*t.orderData.rows?(t.finished=!1,t.orderData.page++):t.finished=!0):(e.msg?t.$toast(e.msg):t.$toast("发送失败，请重试！"),t.finished=!0)})).catch((function(e){t.$toast("加载失败，请稍后重试！"),t.loading=!1,t.finished=!0}))},loadMore:function(){var t=this;setTimeout((function(){t.getPurchaseList()}),500)},gotoSearch:function(){this.$router.push({path:"/commerceSearch",query:{orderType:1}})},onClickLeft:function(){this.$router.back()}}},d=u,l=(s("ff74"),s("2877")),f=Object(l["a"])(d,a,n,!1,null,"22d06598",null);e["default"]=f.exports},9143:function(t,e,s){"use strict";s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return r})),s.d(e,"h",(function(){return i})),s.d(e,"d",(function(){return o})),s.d(e,"e",(function(){return c})),s.d(e,"f",(function(){return u})),s.d(e,"i",(function(){return d})),s.d(e,"g",(function(){return l})),s.d(e,"a",(function(){return f}));var a=s("ba6a"),n=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/orderList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},r=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/orderDetailBySubNo",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},i=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/myOrder/confirmOrder",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},o=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-purchase/saler/getBuyList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},c=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/returnGoodsList",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},u=function(t){return new Promise((function(e,s){a["a"].get("xwj-commerce-sale/saler/returnDetailByReturnNo",t,!0).then((function(t){e(t)})).catch((function(t){s(t)}))}))},d=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/saler/returnGoodsAppr",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},l=function(t){return new Promise((function(e,s){a["a"].post("xwj-commerce-sale/saler/sendGoodsArriveMsg",t).then((function(t){e(t)})).catch((function(t){s(t)}))}))},f=function(t,e){return new Promise((function(s,n){a["a"].get("xwj-adapter-dada/dadaOrder/orderTrack",{orderId:t,recAreaCode:e}).then((function(t){s(t)})).catch((function(t){n(t)}))}))}},"960f":function(t,e,s){"use strict";var a=s("2627"),n=s.n(a);n.a},"98e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAA7pJREFUSA2tlktIlFEUx2c+HWYx0aoWPahGey1btAgpQoKgqKBdGlnqWMuCpOgl9BB67HpY+EItpFwEQRgJlbVoYQMSVLSwTTBoJdEURTONM/3+H/fKtVIbnQN3zvnO6/+dc8937wQD01BbW9vCsbGxHbhtYS1nLWYVs0aDwWAil8v1w/tisdgzeBb9lBSczNre3l4C0FnsFSSd1M+Jf+N5XmNtbe3tqYD/mai5ufkoiQQWMglT8MckGmANI//kJaKsEuSNrCUsS09DodCu6urqEatw+QTA3t7ecCKRaCPRbjmR/DNyY1FRUQtv/s0NtHJPT09RMpncht9BdOXSEzdSXFy8A9AX1s/yCYAtLS23HLD7BO0h6It1no4Tf4j4i/iFAP3EKmNvh9y4ccDW1tYj2Wz2gjFeraurO0jAtEPgJpPM3pdlMpmHiHOIHwqHw2uqqqq+Wz/POJUAdk4yTvdnCqb4mpqa5wxPnWSqXZ5KpY5LtuQDmmlUGz6rjTOpzCYUp42a1OuSAT1M95ZKFnn6zuAVesDYmM+eKWYKOg1oGnuYvPusn8fDdha2YFrTaA2z5WzLB/LeNXn8giR77N1Wo3w82egbe96MIm4qCOBVppMBD2WpUQ7knXGaADr21rpQ2ErJaqnORpFOkIJSNBp9T0FjSgrOMnFVqINYn8MP8UJSeXl5hnw/lZP8kgP6LEYl8AYLxAtJ3d3d88gbMTn9gtTShBR8rP5eFhKQjz7q5BvycSi1X4KmFfDxo0662RJH3GaTI8lh8EqyxyT1GeUiRneDkWfNdItQwH4loqhHLP9c9jhZdFO/loEqG8ULQVxZO8lj78krNqemNMeDBVrP5bvPGmfKOzs7FxHbpHjyxzl1+iWL/MOb/t7B0O9rAoEb3GvrjJw3i8fjIYalh3bOJzjFMMbcJD4gYOrvLrj+FoRZfVS6zXX8H1mVDQ4OPsG3TP6ANXBcvnRjJ0wlQ7OWfew1b5flBa5FIpEzlZWV/rfqBrqy+ZuhPWsysdY8TI7ztPSyVUwAlLKjo6M0nU4/QFxhnL7ypneQ78EHGDL9Pcxxs6tl+me3CZADyHZA1MYGXvwEurks7WMDoGd9WT9/UldXV4R9OEaiemxqsUu/SJDGZk+QcRv6OGAxtZFLtx7QS9ZoQf+q0DqIm5t6L4G6z1a7NkdOkuwRz1fcaZSdOTgJ8yvTM371UwLKyZLuM4BXUtkyAjPw7/B3OkHg/kdtfV3OxJ/C94zRffxvQDdJvjKghwE9wos1/QZ4dZvF8yqPBAAAAABJRU5ErkJggg=="},c33a:function(t,e,s){t.exports=s.p+"www/img/back.2c1decd9.png"},da6a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navBar van-nav-bar",style:t.navBarStyle},[t.isShowLeft?s("div",{staticClass:"left",style:t.bothWidth,on:{click:function(e){return t.$emit("onLeftClick")}}},[t.isShowBack?s("img",{attrs:{src:t.backImg,alt:"",srcset:""}}):t._e(),t._t("nav-left")],2):t._e(),s("div",{staticClass:"center"},[t.isDefault?s("span",{staticClass:"title"},[t._v(t._s(t.pageName))]):t._e(),t._t("nav-center")],2),t.isShowRight?s("div",{staticClass:"right",style:t.bothWidth},[t._t("nav-right")],2):t._e()])},n=[],r={props:{isDefault:{default:!0,type:Boolean},bothWidth:{type:Object,default:function(){return{width:"36px"}}},isShowRight:{default:!0,type:Boolean},isShowLeft:{default:!0,type:Boolean},isShowBack:{default:!0,type:Boolean},leftImgType:{type:String,default:"0"},pageName:{default:"",type:String},navBarStyle:{type:Object,default:function(){return{backgroundColor:"#fff"}}}},data:function(){return{backImg:s("4f11")}},mounted:function(){this.isLeftImg()},methods:{isLeftImg:function(){switch(this.leftImgType){case"0":this.backImg=s("4f11");break;case"1":this.backImg=s("4f11");break}}}},i=r,o=(s("960f"),s("2877")),c=Object(o["a"])(i,a,n,!1,null,"7e35d797",null);e["a"]=c.exports},e632:function(t,e,s){t.exports=s.p+"www/img/img_Default@2x.8a897332.png"},ff74:function(t,e,s){"use strict";var a=s("4534"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-3384d404.770d4f3e.js.map
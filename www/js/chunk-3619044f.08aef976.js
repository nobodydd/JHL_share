(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3619044f"],{"0613":function(t,i,e){"use strict";var s=e("8220"),n=e.n(s);n.a},2627:function(t,i,e){},2993:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"workAssign"},[e("navigation-bar",{attrs:{pageName:"工单指派"},on:{onLeftClick:t.goBack}}),e("div",{staticClass:"box"},[e("div",{staticClass:"field-box"},[e("van-field",{attrs:{readonly:"",clickable:"",label:"岗位",value:t.station?t.station.POST_NAME:"","input-align":"right",placeholder:"请选择岗位","right-icon":"arrow"},on:{click:t.showStationCondition}}),e("van-field",{attrs:{readonly:"",clickable:"",label:"人员（选填）",value:t.staff?t.staff.USER_NAME:"","input-align":"right",placeholder:"请选择人员","right-icon":"arrow"},on:{click:t.showStaffCondition}})],1),e("div",{staticClass:"area-box"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.workContent,expression:"workContent"}],attrs:{name:"",id:"",placeholder:"请填写处理情况...",maxlength:"100"},domProps:{value:t.workContent},on:{input:[function(i){i.target.composing||(t.workContent=i.target.value)},t.filterContent]}}),e("div",{staticClass:"num"},[t._v(t._s(t.workContent.length)+"/100")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"photo-box"},[t._m(0),e("div",{staticClass:"photo"},[e("add-image",{ref:"addImageComponent",on:{imageAddAction:t.showAddSheetControll,imageMapChange:t.upDateImageData}})],1)])])]),e("div",{staticClass:"submit-box"},[e("div",{staticClass:"submit",on:{click:t.assign}},[t._v("完成")])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showCondition,callback:function(i){t.showCondition=i},expression:"showCondition"}},[e("van-picker",{attrs:{columns:t.conditionList,"show-toolbar":"",title:t.conditionTitle,"value-key":t.showKey,"default-index":t.defaultIndexList[t.selectedConditionType]},on:{cancel:function(i){t.showCondition=!1},confirm:t.seletCondition}})],1),e("van-action-sheet",{attrs:{actions:t.actions,"cancel-text":"取消",round:"","close-on-click-action":""},on:{select:t.addSelect},model:{value:t.showAddSheet,callback:function(i){t.showAddSheet=i},expression:"showAddSheet"}})],1)},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("div",[t._v("上传图片")]),e("div",{staticClass:"limit"},[t._v("(最多4张)")])])}],a=(e("a481"),e("72d3")),o=e("da6f"),c=e("4e4d"),l=e("da6a"),r={name:"workAssign",data:function(){return{workDetail:null,isVisiable:!1,station:null,staff:null,workContent:"",stationList:[],staffList:[],selectedConditionType:0,conditionList:[],showKeyList:["POST_NAME","USER_NAME"],defaultIndexList:[0,0],showKey:"POST_NAME",userInfo:null,is_400Service:"1",showCondition:!1,conditionTitle:"选择岗位",actions:[{name:"拍照"},{name:"从手机相册选择"}],imgList:[],showAddSheet:!1,isEvaluate:-1}},components:{"add-image":c["a"],NavigationBar:l["a"]},created:function(){this.workDetail=this.$route.params.workDetail,this.userInfo=o["b"].get("userInfo"),this.findIf400()},methods:{goBack:function(){this.$router.back(-1)},findIf400:function(){var t=this;Object(a["d"])({data:JSON.stringify({POST_CODE:this.userInfo.POST_CODE})}).then((function(i){"1"==JSON.parse(i)&&t.workDetail.forwardCnt>=3&&(t.is_400Service="0"),t.getStationList()}),(function(t){console.log(t)}))},getStationList:function(){var t=this,i={data:JSON.stringify({AREA_CODE:this.workDetail.areaCode})};"0"==this.is_400Service&&(i.IS_400SERVICE="0"),Object(a["m"])(i).then((function(i){t.stationList=i}),(function(i){t.$toast(i)}))},getStaffList:function(){var t=this;Object(a["l"])({data:JSON.stringify({AREA_CODE:this.workDetail.areaCode,POST_CODE:this.station.POST_CODE,USER_CODE:this.userInfo.USER_CODE})}).then((function(i){t.staffList=i}),(function(i){t.$toast(i)}))},showStationCondition:function(){this.showCondition=!0,this.conditionTitle="选择岗位",this.selectedConditionType=0,this.showKey=this.showKeyList[0],this.conditionList=this.stationList},showStaffCondition:function(){this.showCondition=!0,this.conditionTitle="选择人员",this.selectedConditionType=1,this.showKey=this.showKeyList[1],this.conditionList=this.staffList},seletCondition:function(t,i){this.showCondition=!1,t&&0!=t.length&&(0==this.selectedConditionType?this.station&&t.POST_CODE==this.station.POST_CODE||(this.station=t,this.staff=null,this.defaultIndexList=[i,0],this.getStaffList()):1==this.selectedConditionType&&(this.staff=t,this.defaultIndexList=[this.defaultIndexList[0],i]))},upDateImageData:function(t){this.imgList=t},showAddSheetControll:function(){this.showAddSheet=!this.showAddSheet},addSelect:function(t,i){this.getPictureData(i)},getPictureData:function(t){t?this.$refs.addImageComponent.getPicture():this.$refs.addImageComponent.useCamera()},filterContent:function(){this.workContent=this.workContent.replace(/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,"")},assign:function(){var t=this;if(this.hasCompleteParam()){var i={complCode:this.workDetail.complCode,nextUserCode:this.staff?this.staff.USER_CODE:"",nextUserFlag:this.staff?"1":"0",nextPostCode:this.station.POST_CODE,nextConfLimitTime:this.station.LIMIT_TIME+"",areaCode:this.workDetail.areaCode,createdBy:this.userInfo.USER_CODE,userCode:this.userInfo.USER_CODE,isShow:this.isVisiable?1:0,picUrl:this.imgList,content:this.workContent,isService400:this.is_400Service};this.$route.params.isEvaluate&&(i.isEvaluate=this.$route.params.isEvaluate),Object(a["a"])(i).then((function(i){"0"==i.resultCode?(t.$toast("指派成功"),o["b"].set("insideWorkDetailComplCode",t.workDetail.complCode),t.goBack()):t.$toast(i.msg)}),(function(i){t.$toast(i)}))}},hasCompleteParam:function(){return this.station?!!this.workContent||(this.$toast("请填写处理信息！"),!1):(this.$toast("请选择指派岗位！"),!1)}},computed:{}},u=r,d=(e("7675"),e("6e91"),e("2877")),h=Object(d["a"])(u,s,n,!1,null,"b3c33252",null);i["default"]=h.exports},"4e4d":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("ul",{staticClass:"image-list"},[t._l(t.selectPictures,(function(i,e){return s("li",{key:e,style:{width:t.imageWidthAndHeight+"px",height:t.imageWidthAndHeight+"px"}},[t.isShowAdd?s("van-icon",{staticClass:"delete-picture",attrs:{color:"rgb(181, 181, 181)",name:"clear"},on:{click:function(i){return t.deletePicture(e)}}}):t._e(),s("img",{attrs:{src:i,alt:""},on:{click:function(i){return t.preview(e)}}})],1)})),t.accountAddImage&&t.isShowAdd?s("li",[s("div",{staticClass:"add-image",on:{click:t.addAction}},[s("img",{staticClass:"cls-icon",attrs:{src:e("974a"),alt:""}})])]):t._e()],2)])},n=[],a=(e("ac6a"),e("c5f6"),e("28a2")),o=e("d399"),c=(e("a49b"),e("da6f")),l={name:"AddImage",props:{maxImageCount:{type:Number,default:4},selectPictures:{type:Array,default:function(){return[]}},isShowAdd:{type:Boolean,default:!0},imageType:{type:Number,default:-1}},data:function(){return{}},mounted:function(){var t=document.querySelector(".image-list");this.imageWidthAndHeight=t.offsetWidth/4},computed:{accountAddImage:function(){return this.selectPictures.length<this.maxImageCount},maximumImagesCount:function(){return this.maxImageCount-this.selectPictures.length}},watch:{selectPictures:function(t,i){console.log(t),this.$emit("imageMapChange",this.selectPictures.slice(0))}},methods:{preview:function(t){Object(a["a"])({images:this.selectPictures,startPosition:t})},addAction:function(){this.$emit("imageAddAction")},deletePicture:function(t){this.selectPictures.splice(t,1)},addSelect:function(t,i){i?this.getPicture():this.useCamera()},useCamera:function(){var t=this;this.$plugin.usePlugin("camera")((function(i){t.uploadFile(i)}),(function(t){o["a"].fail(t)}))},uploadFile:function(t){var i=this,e=o["a"].loading({duration:0,mask:!0,message:"加载中..."}),s="".concat(c["b"].get("custUrl.homeUrl"),"xwj-sys-media/media/upload/uploadFile"),n={params:{file:"",source:"wyApp",business:"complPic"}};1==this.imageType&&(n.params.business="dicoveryPic"),n.headers={contentType:"multipart/form-data"},this.$plugin.usePlugin("fileTransfer")(s,t,(function(t){e.clear();var s=JSON.parse(t.response);"0"==s.resultCode?i.selectPictures.push(s.data):o["a"].fail(s.msg)}),(function(t){e.clear(),o["a"].fail(t)}),n)},getPicture:function(){var t=this;this.$plugin.usePlugin("getPictures")(this.maximumImagesCount,(function(i){i.forEach((function(i){t.uploadFile(i)}))}),(function(t){o["a"].fail(t)}))}}},r=l,u=(e("0613"),e("2877")),d=Object(u["a"])(r,s,n,!1,null,"0fc768a1",null);i["a"]=d.exports},"4f11":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAqhJREFUeAHtms1L1UEUhtX8IJUwEEGiRKggEqGNiwpx08qiaOEmMKE2QctyIfQXRGAtxJ0o1CYEEaTCRYsgqEUgRAWChIohRBpEH1TengMOHIZWwoHD3HPgZebcO8yc5x283pnframJCAfCgXAgHAgHwoFwIBwIB8KBcMChA5VKpRu9QJto2GGJdiUB3Is+oRTrdqs5mxnifrSdyHfbGWdl2pQD7CX0I4OfJq+3WdHRrEBeR38y+LvktY7KtCkFyLEMfIf8ls1qjmaV3UX3M/jf5FcdlWlTCpAN6FEG/5180GZFR7MC2YqeZfBfyE87KtOmFCDb0esMfp38pM2KjmYFsgt9QDokP+KoTJtSgOxBstM6XpG026zoaFYgzyD5G9fxlKTFUZk2pQB5Hsmnu46HJA02KzqaFcgRJP/XdYyTVMW3u1FNvdsfc7Q/NqXI7qJ7Gbx8x79ms6KjWYGsRzMZvJzuLjoq06YUIJvRQgYv5/p+mxWdzQroXAa/Qd7rrEy7coBdzQyYsFvN4czAX0H5hcYkr9U5LNemJGAvo59Ix2OSRpsVHc4K7AD6qh2gv4haHZZrUxKwp5Dc5+uQI3D5B59kKbBH0Yp2gP57dDiNKb4FthMtIR1rJCeKh0+AwLYhecSl4zNJXxpTfAvsfjSvHaD/DZ0rHj4BAivnhCmk4xfJUBpTfAusnBTlaY+OvyQ3iofXgADfRvL0R8cdPab4PuT/uy16wOvl3xal3QX2AsrvC+VpUfn3hcqEswBvIR1PSJrTmOJbYOUXIXJ/oOMlycHi4RMgsN1oWTtA/y06lMYU3wLbgd4gHR9JjhUPnwCBPYCeIx1L6f2qaCFvQrPKgXdVAa4hgd+HbiL5Bclx/V70w4FwIBwIB8KBcCAcCAfCgXBgzw78A2Wj4+ezw0gaAAAAAElFTkSuQmCC"},"6e91":function(t,i,e){"use strict";var s=e("7e87"),n=e.n(s);n.a},7675:function(t,i,e){"use strict";var s=e("8627"),n=e.n(s);n.a},"7e87":function(t,i,e){},8220:function(t,i,e){},8627:function(t,i,e){},"960f":function(t,i,e){"use strict";var s=e("2627"),n=e.n(s);n.a},"974a":function(t,i){t.exports="data:image/png;base64,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"},da6a:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"navBar van-nav-bar",style:t.navBarStyle},[t.isShowLeft?e("div",{staticClass:"left",style:t.bothWidth,on:{click:function(i){return t.$emit("onLeftClick")}}},[t.isShowBack?e("img",{attrs:{src:t.backImg,alt:"",srcset:""}}):t._e(),t._t("nav-left")],2):t._e(),e("div",{staticClass:"center"},[t.isDefault?e("span",{staticClass:"title"},[t._v(t._s(t.pageName))]):t._e(),t._t("nav-center")],2),t.isShowRight?e("div",{staticClass:"right",style:t.bothWidth},[t._t("nav-right")],2):t._e()])},n=[],a={props:{isDefault:{default:!0,type:Boolean},bothWidth:{type:Object,default:function(){return{width:"36px"}}},isShowRight:{default:!0,type:Boolean},isShowLeft:{default:!0,type:Boolean},isShowBack:{default:!0,type:Boolean},leftImgType:{type:String,default:"0"},pageName:{default:"",type:String},navBarStyle:{type:Object,default:function(){return{backgroundColor:"#fff"}}}},data:function(){return{backImg:e("4f11")}},mounted:function(){this.isLeftImg()},methods:{isLeftImg:function(){switch(this.leftImgType){case"0":this.backImg=e("4f11");break;case"1":this.backImg=e("4f11");break}}}},o=a,c=(e("960f"),e("2877")),l=Object(c["a"])(o,s,n,!1,null,"7e35d797",null);i["a"]=l.exports}}]);
//# sourceMappingURL=chunk-3619044f.08aef976.js.map